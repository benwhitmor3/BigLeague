{"ast":null,"code":"var _jsxFileName = \"/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Organisms/Tables/FreeAgentTable.tsx\";\nimport React, { useContext, useState } from 'react';\nimport 'antd/dist/antd.css';\nimport { Table, Tag, Space } from 'antd';\nimport { StoreContext } from \"../../../models\";\nimport { observer } from \"mobx-react\";\nimport { colour, suit_icon, insertArray, _to_fixed } from '../../Utils/tablefunctions';\nimport { observable, toJS } from 'mobx';\nimport SigningModal from \"../../Molecules/Modals/SigningModal\";\nimport { tableStyles } from \"./TableStyles\";\nexport const FreeAgentTable = observer(() => {\n  const store = useContext(StoreContext);\n  const [visible, setVisible] = useState(false);\n  const [selectedPlayer, setSelectedPlayer] = useState([]);\n  const non_scouter_columns = [{\n    title: 'Name',\n    dataIndex: 'name',\n    key: 'name'\n  }, {\n    title: 'Age',\n    dataIndex: 'age',\n    key: 'age',\n    sorter: (a, b) => a.age - b.age\n  }, {\n    title: 'EPV',\n    dataIndex: 'epv',\n    key: 'epv',\n    sorter: (a, b) => a.epv - b.epv,\n    render: epv => /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 42\n      }\n    }, epv.toFixed(1))\n  }, {\n    title: 'Suit',\n    dataIndex: 'suit',\n    key: 'suit',\n    render: suit => /*#__PURE__*/React.createElement(Tag, {\n      icon: suit_icon(suit),\n      color: colour(suit),\n      key: suit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }\n    }, suit.toUpperCase()),\n    filters: [{\n      text: 'Diamond',\n      value: 'diamond'\n    }, {\n      text: 'Spade',\n      value: 'spade'\n    }, {\n      text: 'Heart',\n      value: 'heart'\n    }, {\n      text: 'Club',\n      value: 'club'\n    }],\n    onFilter: (value, record) => record.suit.indexOf(value) === 0\n  }, {\n    title: 'Grade',\n    dataIndex: 'grade',\n    key: 'grade',\n    sorter: (a, b) => a.grade - b.grade,\n    render: grade => /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 44\n      }\n    }, _to_fixed(grade))\n  }, {\n    title: 'Franchise',\n    dataIndex: [\"franchise\", \"franchise\"],\n    key: \"franchise\"\n  }, {\n    title: 'Action',\n    key: 'action',\n    render: record => record.contract ? /*#__PURE__*/React.createElement(Space, {\n      size: \"middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Tag, {\n      color: \"#89dc0d\",\n      style: {\n        color: \"#000000\",\n        border: \"3px solid #89dc0d\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 29\n      }\n    }, \"Signed\")) : /*#__PURE__*/React.createElement(Space, {\n      size: \"middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Tag, {\n      icon: /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          marginRight: '3px'\n        },\n        role: \"img\",\n        \"aria-label\": \"player\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 40\n        }\n      }, \" \\uD83D\\uDCDD \"),\n      color: \"#ffe479\",\n      style: {\n        color: \"#000000\",\n        border: \"3px solid #ffe479\",\n        cursor: \"pointer\"\n      },\n      onClick: () => {\n        setSelectedPlayer(record);\n        setVisible(true);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }, \"Offer Contract\"))\n  }];\n  let sEPV_column = {\n    title: 'S EPV',\n    dataIndex: 'sEpv',\n    key: 'sEpv',\n    sorter: (a, b) => a.sEpv - b.sEpv,\n    render: sEpv => /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 43\n      }\n    }, sEpv.toFixed(1))\n  };\n  const columns = () => {\n    if (store.User.franchise.gm !== null) {\n      if (store.User.franchise.gm.trait === \"SCOUTER\") {\n        let scouter_columns = non_scouter_columns;\n        insertArray(non_scouter_columns, 3, sEPV_column);\n        return scouter_columns;\n      } else {\n        return non_scouter_columns;\n      }\n    } else return non_scouter_columns;\n  };\n\n  // need to make observable to update table (draftClass not being observed by ant d table)\n  let freeAgentClass = observable(store.User.franchise.league.freeAgentClass);\n  if (store.User === undefined || store.User.franchise === undefined) return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 84\n    }\n  }, \" loading\");else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(SigningModal, {\n      visible: visible,\n      setVisible: setVisible,\n      selectedplayer: selectedPlayer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Table, {\n      rowKey: \"id\",\n      columns: columns(),\n      dataSource: toJS(freeAgentClass),\n      pagination: false,\n      bordered: true,\n      style: tableStyles,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }));\n  }\n});\nexport default FreeAgentTable;","map":{"version":3,"names":["React","useContext","useState","Table","Tag","Space","StoreContext","observer","colour","suit_icon","insertArray","_to_fixed","observable","toJS","SigningModal","tableStyles","FreeAgentTable","store","visible","setVisible","selectedPlayer","setSelectedPlayer","non_scouter_columns","title","dataIndex","key","sorter","a","b","age","epv","render","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","suit","icon","color","toUpperCase","filters","text","value","onFilter","record","indexOf","grade","contract","size","style","border","marginRight","role","cursor","onClick","sEPV_column","sEpv","columns","User","franchise","gm","trait","scouter_columns","freeAgentClass","league","undefined","selectedplayer","rowKey","dataSource","pagination","bordered"],"sources":["/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Organisms/Tables/FreeAgentTable.tsx"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport 'antd/dist/antd.css';\nimport {Table, Tag, Space} from 'antd';\nimport {PlayerTypeModelType, StoreContext} from \"../../../models\";\nimport {observer} from \"mobx-react\";\nimport {colour, suit_icon, insertArray, _to_fixed} from '../../Utils/tablefunctions'\nimport {IObservableArray, observable, toJS} from 'mobx';\nimport SigningModal from \"../../Molecules/Modals/SigningModal\";\nimport {tableStyles} from \"./TableStyles\";\n\nexport const FreeAgentTable: React.FunctionComponent = observer(() => {\n\n        const store = useContext(StoreContext)\n\n        const [visible, setVisible] = useState<boolean>(false)\n        const [selectedPlayer, setSelectedPlayer] = useState<any>([]);\n\n        const non_scouter_columns = [\n            {\n                title: 'Name',\n                dataIndex: 'name',\n                key: 'name',\n            },\n            {\n                title: 'Age',\n                dataIndex: 'age',\n                key: 'age',\n                sorter: (a: any, b: any) => a.age - b.age,\n            },\n            {\n                title: 'EPV',\n                dataIndex: 'epv',\n                key: 'epv',\n                sorter: (a: any, b: any) => a.epv - b.epv,\n                render: (epv: number) => <span>{epv.toFixed(1)}</span>,\n            },\n            {\n                title: 'Suit',\n                dataIndex: 'suit',\n                key: 'suit',\n                render: (suit: string) => (\n                    <Tag icon={suit_icon(suit)} color={colour(suit)} key={suit}>\n                        {suit.toUpperCase()}\n                    </Tag>\n                ),\n                filters: [\n                    {\n                        text: 'Diamond',\n                        value: 'diamond',\n                    },\n                    {\n                        text: 'Spade',\n                        value: 'spade',\n                    },\n                    {\n                        text: 'Heart',\n                        value: 'heart',\n                    },\n                    {\n                        text: 'Club',\n                        value: 'club',\n                    },\n                ],\n                onFilter: (value: any, record: any) => record.suit.indexOf(value) === 0,\n            },\n            {\n                title: 'Grade',\n                dataIndex: 'grade',\n                key: 'grade',\n                sorter: (a: any, b: any) => a.grade - b.grade,\n                render: (grade: number) => <span>{_to_fixed(grade)}</span>,\n            },\n            {\n                title: 'Franchise',\n                dataIndex: [\"franchise\", \"franchise\"],\n                key: \"franchise\",\n            },\n             {\n                title: 'Action',\n                key: 'action',\n                render: (record: PlayerTypeModelType) => (\n\n                    (record.contract) ? (\n                        <Space size=\"middle\">\n                            <Tag color={\"#89dc0d\"} style={{ color: \"#000000\", border: \"3px solid #89dc0d\"}}>\n                            Signed\n                            </Tag>\n                        </Space>\n                    ) : (\n                        <Space size=\"middle\">\n                            <Tag icon={<span style={{marginRight: '3px'}} role=\"img\" aria-label=\"player\"> 📝 </span>}\n                                 color={\"#ffe479\"} style={{ color: \"#000000\", border: \"3px solid #ffe479\", cursor: \"pointer\"}}\n                                 onClick={() => {setSelectedPlayer(record); setVisible(true)}}>\n                            Offer Contract\n                            </Tag>\n                        </Space>\n                    )\n                ),\n            },\n        ];\n\n\n        let sEPV_column =\n            {\n                title: 'S EPV',\n                dataIndex: 'sEpv',\n                key: 'sEpv',\n                sorter: (a: any, b: any) => a.sEpv - b.sEpv,\n                render: (sEpv: number) => <span>{sEpv.toFixed(1)}</span>,\n            }\n\n\n        const columns = () => {\n            if (store.User.franchise.gm !== null)\n                if (store.User.franchise.gm.trait === \"SCOUTER\") {\n                    let scouter_columns = non_scouter_columns\n                    insertArray(non_scouter_columns, 3, sEPV_column)\n                    return scouter_columns\n                } else {\n                    return non_scouter_columns\n                }\n            else return non_scouter_columns\n        }\n\n        // need to make observable to update table (draftClass not being observed by ant d table)\n        let freeAgentClass: IObservableArray<PlayerTypeModelType> = observable(store.User.franchise.league.freeAgentClass)\n\n        if (store.User === undefined || store.User.franchise === undefined) return <div> loading</div>;\n        else {\n            return (\n                <div>\n                <SigningModal visible={visible} setVisible={setVisible} selectedplayer={selectedPlayer}/>\n                <Table\n                    rowKey=\"id\"\n                    columns={columns()}\n                    dataSource={toJS(freeAgentClass)}\n                    pagination={false}\n                    bordered\n                    style={tableStyles}\n                />\n                </div>\n            );\n        }\n    }\n)\n\nexport default FreeAgentTable;"],"mappings":"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"},"metadata":{},"sourceType":"module"}