{"ast":null,"code":"import _slicedToArray from \"/Users/bwhitmore6/Desktop/Projects/BigLeague/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Molecules/SimulationButtons/FreeAgentButton.tsx\";\nimport React, { useContext, useState } from 'react';\nimport 'antd/dist/antd.css';\nimport { Button } from 'antd';\nimport { observer } from \"mobx-react\";\nimport axios from \"axios\";\nimport { StoreContext } from \"../../../models\";\nimport SmallLoading from \"../../Atoms/Loading/SmallLoading\";\nimport { simButtonStyles } from \"./SimButtonStyles\";\nexport var FreeAgencyButton = observer(function () {\n  var store = useContext(StoreContext);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var email = localStorage.getItem('email') ? localStorage.getItem('email') : '';\n  var signFreeAgents = function signFreeAgents() {\n    var link = '';\n    if (window.location.port === '3000') {\n      link = window.location.hostname + ':8000';\n    } else {\n      link = window.location.host;\n    }\n    var data = new FormData();\n    data.append(\"franchise_id\", store.User.franchise.id);\n    data.append(\"season\", store.User.franchise.seasonSet.length);\n    setLoading(true);\n    axios.post(window.location.protocol + \"//\" + link + '/free_agency', data).then(function (res) {\n      console.log(res.data);\n      store.queryUser({\n        email: email\n      }, \"        \\n                    __typename\\n                    id\\n                    franchise{\\n                        __typename\\n                        id\\n                        stadium{\\n                          __typename\\n                          id\\n                          grade\\n                          maxGrade\\n                        }\\n                      league{\\n                        __typename\\n                        id\\n                        playerSet{\\n                          __typename\\n                            id\\n                            name\\n                            suit\\n                            age\\n                            pv\\n                            epv\\n                            sEpv\\n                            contract\\n                            tOption\\n                            pOption\\n                            renew\\n                            salary\\n                            grade\\n                            trainer\\n                            year\\n                            franchise{\\n                                __typename\\n                                id\\n                                franchise\\n                            }\\n                        }\\n                        franchiseSet{\\n                          __typename\\n                          id\\n                          playerSet{\\n                            __typename\\n                            id\\n                            name\\n                            suit\\n                            age\\n                            pv\\n                            epv\\n                            sEpv\\n                            contract\\n                            tOption\\n                            pOption\\n                            renew\\n                            salary\\n                            grade\\n                            trainer\\n                            year\\n                            franchise {\\n                                __typename\\n                                id\\n                                franchise\\n                            }\\n                          }\\n                        }\\n                      }\\n                    }\", {});\n      setTimeout(function () {\n        setLoading(false);\n      }, 2000);\n    }).catch(function (err) {\n      console.log(err);\n      setTimeout(function () {\n        setLoading(false);\n      }, 2000);\n    });\n  };\n  if (loading) return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SmallLoading, {\n    animation: \"ld ld-bounce\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }));else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: simButtonStyles,\n      onClick: function onClick() {\n        return signFreeAgents();\n      },\n      block: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    }, \"Sim Free Agents\"));\n  }\n});\nexport default FreeAgencyButton;","map":{"version":3,"names":["React","useContext","useState","Button","observer","axios","StoreContext","SmallLoading","simButtonStyles","FreeAgencyButton","store","_useState","_useState2","_slicedToArray","loading","setLoading","email","localStorage","getItem","signFreeAgents","link","window","location","port","hostname","host","data","FormData","append","User","franchise","id","seasonSet","length","post","protocol","then","res","console","log","queryUser","setTimeout","catch","err","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","animation","style","onClick","block"],"sources":["/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Molecules/SimulationButtons/FreeAgentButton.tsx"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport 'antd/dist/antd.css';\nimport {Button} from 'antd';\nimport {observer} from \"mobx-react\";\nimport axios from \"axios\";\nimport {StoreContext} from \"../../../models\";\nimport SmallLoading from \"../../Atoms/Loading/SmallLoading\";\nimport {simButtonStyles} from \"./SimButtonStyles\";\n\nexport const FreeAgencyButton: React.FunctionComponent = observer(() => {\n\n        const store = useContext(StoreContext)\n\n        const [loading, setLoading] = useState<boolean>(false)\n        const email: any = localStorage.getItem('email') ? localStorage.getItem('email') : '';\n\n        const signFreeAgents = () => {\n            let link = '';\n            if (window.location.port === '3000') {\n                link = window.location.hostname + ':8000'\n            } else {\n                link = window.location.host\n            }\n            const data = new FormData();\n            data.append(\"franchise_id\", store.User.franchise.id)\n            data.append(\"season\", store.User.franchise.seasonSet.length)\n            setLoading(true)\n            axios.post(window.location.protocol + \"//\" + link + '/free_agency', data)\n                .then(res => {\n                    console.log(res.data)\n                    store.queryUser(\n                    {email: email},\n                    `        \n                    __typename\n                    id\n                    franchise{\n                        __typename\n                        id\n                        stadium{\n                          __typename\n                          id\n                          grade\n                          maxGrade\n                        }\n                      league{\n                        __typename\n                        id\n                        playerSet{\n                          __typename\n                            id\n                            name\n                            suit\n                            age\n                            pv\n                            epv\n                            sEpv\n                            contract\n                            tOption\n                            pOption\n                            renew\n                            salary\n                            grade\n                            trainer\n                            year\n                            franchise{\n                                __typename\n                                id\n                                franchise\n                            }\n                        }\n                        franchiseSet{\n                          __typename\n                          id\n                          playerSet{\n                            __typename\n                            id\n                            name\n                            suit\n                            age\n                            pv\n                            epv\n                            sEpv\n                            contract\n                            tOption\n                            pOption\n                            renew\n                            salary\n                            grade\n                            trainer\n                            year\n                            franchise {\n                                __typename\n                                id\n                                franchise\n                            }\n                          }\n                        }\n                      }\n                    }`,\n                    {}\n                    )\n                    setTimeout(() => {setLoading(false)}, 2000);\n                })\n                .catch(err => {\n                    console.log(err)\n                    setTimeout(() => {setLoading(false)}, 2000);\n                })\n        };\n\n\n        if (loading) return (\n            <div>\n                <SmallLoading animation=\"ld ld-bounce\"/>\n            </div>\n        )\n        else {\n            return (\n                <div>\n                    <Button style={simButtonStyles} onClick={() => signFreeAgents()} block>\n                        Sim Free Agents\n                    </Button>\n                </div>\n            );\n        }\n    }\n)\n\nexport default FreeAgencyButton;"],"mappings":"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"},"metadata":{},"sourceType":"module"}