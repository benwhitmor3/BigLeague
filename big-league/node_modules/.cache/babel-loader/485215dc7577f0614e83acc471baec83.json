{"ast":null,"code":"var _jsxFileName = \"/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Organisms/Tables/PlayerHistoryTable.tsx\";\nimport React, { useContext } from 'react';\nimport { StoreContext } from \"../../../models\";\nimport 'antd/dist/antd.css';\nimport { Table, Tag, Spin } from 'antd';\nimport { observer } from \"mobx-react\";\nimport { toJS } from 'mobx';\nimport { colour, insertArray, suit_icon } from \"../../Utils/tablefunctions\";\nimport { tableStyles } from \"./TableStyles\";\nexport const PlayerHistoryTable = observer(() => {\n  var _store$User$league$pl, _store$User$league$pl2, _store$User;\n  const store = useContext(StoreContext);\n  const non_scouter_columns = [{\n    title: 'Name',\n    dataIndex: 'name',\n    key: 'name',\n    sorter: (a, b) => a.name.localeCompare(b.name),\n    // @ts-ignore\n    filters: [...new Map((_store$User$league$pl = store.User.league.playerhistorySet) === null || _store$User$league$pl === void 0 ? void 0 : _store$User$league$pl.map(item => [item['name'], {\n      text: item.name,\n      value: item.name\n    }])).values()],\n    onFilter: (value, record) => record.name.indexOf(value) === 0\n  }, {\n    title: 'Season',\n    dataIndex: 'season',\n    key: 'season',\n    sorter: (a, b) => a.season - b.season,\n    // @ts-ignore\n    filters: [...new Map((_store$User$league$pl2 = store.User.league.playerhistorySet) === null || _store$User$league$pl2 === void 0 ? void 0 : _store$User$league$pl2.map(item => [item['season'], {\n      text: item.season,\n      value: item.season\n    }])).values()],\n    onFilter: (value, record) => record.season.indexOf(value) === 0\n  }, {\n    title: 'Age',\n    dataIndex: 'age',\n    key: 'age',\n    sorter: (a, b) => a.age - b.age\n  }, {\n    title: 'EPV',\n    dataIndex: 'epv',\n    key: 'epv',\n    sorter: (a, b) => a.epv - b.epv,\n    render: epv => /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 42\n      }\n    }, epv.toFixed(1))\n  }, {\n    title: 'Suit',\n    dataIndex: 'suit',\n    key: 'suit',\n    render: suit => /*#__PURE__*/React.createElement(Tag, {\n      icon: suit_icon(suit),\n      color: colour(suit),\n      key: suit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }, suit.toUpperCase()),\n    filters: [{\n      text: 'Diamond',\n      value: 'diamond'\n    }, {\n      text: 'Spade',\n      value: 'spade'\n    }, {\n      text: 'Heart',\n      value: 'heart'\n    }, {\n      text: 'Club',\n      value: 'club'\n    }],\n    onFilter: (value, record) => record.suit.indexOf(value) === 0\n  }];\n  let sEPV_column = {\n    title: 'S EPV',\n    dataIndex: 'sEpv',\n    key: 'sEpv',\n    sorter: (a, b) => a.sEpv - b.sEpv,\n    render: sEpv => /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 43\n      }\n    }, sEpv.toFixed(1))\n  };\n  const columns = () => {\n    if (store.User.franchise.gm !== null) {\n      if (store.User.franchise.gm.trait === \"SCOUTER\") {\n        let scouter_columns = non_scouter_columns;\n        insertArray(non_scouter_columns, 4, sEPV_column);\n        return scouter_columns;\n      } else {\n        return non_scouter_columns;\n      }\n    } else return non_scouter_columns;\n  };\n  if (((_store$User = store.User) === null || _store$User === void 0 ? void 0 : _store$User.franchise) === undefined) return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(Spin, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 62\n    }\n  }));else {\n    return /*#__PURE__*/React.createElement(Table, {\n      rowKey: \"id\",\n      columns: columns(),\n      dataSource: toJS(store.User.league.playerhistorySet),\n      pagination: false,\n      bordered: true,\n      style: tableStyles,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    });\n  }\n});\nexport default PlayerHistoryTable;","map":{"version":3,"names":["React","useContext","StoreContext","Table","Tag","Spin","observer","toJS","colour","insertArray","suit_icon","tableStyles","PlayerHistoryTable","_store$User$league$pl","_store$User$league$pl2","_store$User","store","non_scouter_columns","title","dataIndex","key","sorter","a","b","name","localeCompare","filters","Map","User","league","playerhistorySet","map","item","text","value","values","onFilter","record","indexOf","season","age","epv","render","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","suit","icon","color","toUpperCase","sEPV_column","sEpv","columns","franchise","gm","trait","scouter_columns","undefined","size","rowKey","dataSource","pagination","bordered","style"],"sources":["/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Organisms/Tables/PlayerHistoryTable.tsx"],"sourcesContent":["import React, {useContext} from 'react';\nimport {StoreContext} from \"../../../models\";\nimport 'antd/dist/antd.css';\nimport {Table, Tag, Spin} from 'antd';\nimport {observer} from \"mobx-react\";\nimport {toJS} from 'mobx';\nimport {colour, insertArray, suit_icon} from \"../../Utils/tablefunctions\";\nimport {tableStyles} from \"./TableStyles\";\n\n\nexport const PlayerHistoryTable: React.FunctionComponent = observer(() => {\n\n        const store = useContext(StoreContext)\n\n    const non_scouter_columns = [\n            {\n                title: 'Name',\n                dataIndex: 'name',\n                key: 'name',\n                sorter: (a: any, b: any) => a.name.localeCompare(b.name),\n                // @ts-ignore\n                filters: [...new Map(store.User.league.playerhistorySet?.map(item =>\n                [item['name'], {text: item.name, value: item.name}])).values()],\n                onFilter: (value: any, record: any) => record.name.indexOf(value) === 0,\n            },\n            {\n                title: 'Season',\n                dataIndex: 'season',\n                key: 'season',\n                sorter: (a: any, b: any) => a.season - b.season,\n                // @ts-ignore\n                filters: [...new Map(store.User.league.playerhistorySet?.map(item =>\n                [item['season'], {text: item.season, value: item.season}])).values()],\n                onFilter: (value: any, record: any) => record.season.indexOf(value) === 0,\n            },\n            {\n                title: 'Age',\n                dataIndex: 'age',\n                key: 'age',\n                sorter: (a: any, b: any) => a.age - b.age,\n            },\n            {\n                title: 'EPV',\n                dataIndex: 'epv',\n                key: 'epv',\n                sorter: (a: any, b: any) => a.epv - b.epv,\n                render: (epv: number) => <span>{epv.toFixed(1)}</span>,\n            },\n            {\n                title: 'Suit',\n                dataIndex: 'suit',\n                key: 'suit',\n                render: (suit: string) => (\n                    <Tag icon={suit_icon(suit)} color={colour(suit)} key={suit}>\n                        {suit.toUpperCase()}\n                    </Tag>\n                ),\n                filters: [\n                    {\n                        text: 'Diamond',\n                        value: 'diamond',\n                    },\n                    {\n                        text: 'Spade',\n                        value: 'spade',\n                    },\n                    {\n                        text: 'Heart',\n                        value: 'heart',\n                    },\n                    {\n                        text: 'Club',\n                        value: 'club',\n                    },\n                ],\n                onFilter: (value: any, record: any) => record.suit.indexOf(value) === 0,\n            },\n        ];\n\n\n        let sEPV_column =\n            {\n                title: 'S EPV',\n                dataIndex: 'sEpv',\n                key: 'sEpv',\n                sorter: (a: any, b: any) => a.sEpv - b.sEpv,\n                render: (sEpv: number) => <span>{sEpv.toFixed(1)}</span>,\n            }\n\n\n        const columns = () => {\n            if (store.User.franchise.gm !== null)\n                if (store.User.franchise.gm.trait === \"SCOUTER\") {\n                    let scouter_columns = non_scouter_columns\n                    insertArray(non_scouter_columns, 4, sEPV_column)\n                    return scouter_columns\n                } else {\n                    return non_scouter_columns\n                }\n            else return non_scouter_columns\n        }\n\n\n        if (store.User?.franchise === undefined) return <div><Spin size=\"large\"/></div>;\n        else {\n            return (\n                <Table\n                    rowKey=\"id\"\n                    columns={columns()}\n                    dataSource={toJS(store.User.league.playerhistorySet)}\n                    pagination={false}\n                    bordered\n                    style={tableStyles}\n                />\n            );\n        }\n    }\n)\n\nexport default PlayerHistoryTable;"],"mappings":"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"},"metadata":{},"sourceType":"module"}