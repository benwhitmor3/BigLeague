{"ast":null,"code":"import React,{useContext}from'react';import'antd/dist/antd.css';import{Button}from'antd';import{observer}from\"mobx-react\";import{StoreContext}from\"../../../models\";import{simButtonStyles}from\"./SimButtonStyles\";import{mutateCreatePlayerQuery}from\"../../Utils/queries\";export var DraftButton=observer(function(){var store=useContext(StoreContext);var draftSimRepeat=function draftSimRepeat(franchise,player){var numOfPicks;var currentTeamIndex=store.User.league.draftOrder.indexOf(franchise);var userTeamIndex=store.User.league.draftOrder.indexOf(store.User.franchise);if(userTeamIndex>currentTeamIndex){numOfPicks=userTeamIndex-currentTeamIndex;}else{numOfPicks=Math.abs(store.User.league.franchiseSet.length-currentTeamIndex+userTeamIndex);}if(store.User.league.draftClassRemaining<numOfPicks){numOfPicks=store.User.league.draftClassRemaining;}for(var i=0;i<numOfPicks;i++){draftRepeater(i);}function draftRepeater(i){setTimeout(function(){franchise=store.User.league.draftingFranchise;player=store.User.league.bestDraftPlayer;draftSim(franchise,player);},650*i);}};var draftSim=function draftSim(franchise,player){store.mutateCreatePlayer({\"playerInput\":{\"name\":player.name,\"suit\":player.suit,\"age\":player.age,\"pv\":player.pv,\"epv\":player.epv,\"sEpv\":player.sEpv,\"contract\":undefined,\"tOption\":undefined,\"pOption\":undefined,\"renew\":undefined,\"salary\":undefined,\"grade\":undefined,\"lineup\":\"bench\",\"franchiseId\":store.User.franchise.league.draftingFranchise.id,\"trainer\":false,\"year\":player.year,\"leagueId\":store.User.franchise.league.id}},mutateCreatePlayerQuery,undefined);try{// make next franchise in draft order draftingFranchise\nstore.User.league.setDraftingFranchise(store.User.league.draftOrder[store.User.league.draftOrder.indexOf(franchise)+1]);}catch(exception_var){// if at the end of draft order reset to beginning\nstore.User.league.setDraftingFranchise(store.User.league.draftOrder[0]);}};return/*#__PURE__*/React.createElement(\"div\",null,store.User.league.bestDraftPlayer?/*#__PURE__*/React.createElement(Button,{style:simButtonStyles,onClick:function onClick(){return draftSimRepeat(store.User.league.draftingFranchise,store.User.league.bestDraftPlayer);},block:true},\"Draft Sim\"):/*#__PURE__*/React.createElement(\"h1\",{style:{textAlign:'center'}},\"Go to OffSeason\"));});export default DraftButton;","map":{"version":3,"names":["React","useContext","Button","observer","StoreContext","simButtonStyles","mutateCreatePlayerQuery","DraftButton","store","draftSimRepeat","franchise","player","numOfPicks","currentTeamIndex","User","league","draftOrder","indexOf","userTeamIndex","Math","abs","franchiseSet","length","draftClassRemaining","i","draftRepeater","setTimeout","draftingFranchise","bestDraftPlayer","draftSim","mutateCreatePlayer","name","suit","age","pv","epv","sEpv","undefined","id","year","setDraftingFranchise","exception_var","createElement","style","onClick","block","textAlign"],"sources":["/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Molecules/SimulationButtons/DraftButton.tsx"],"sourcesContent":["import React, {useContext} from 'react';\nimport 'antd/dist/antd.css';\nimport {Button} from 'antd';\nimport {observer} from \"mobx-react\";\nimport {FranchiseTypeModelType, StoreContext} from \"../../../models\";\nimport {simButtonStyles} from \"./SimButtonStyles\";\nimport {mutateCreatePlayerQuery} from \"../../Utils/queries\";\n\nexport const DraftButton: React.FunctionComponent = observer(() => {\n\n        const store = useContext(StoreContext)\n\n\n        const draftSimRepeat = (franchise: FranchiseTypeModelType, player: any) => {\n\n            let numOfPicks: number\n            let currentTeamIndex: number = store.User.league.draftOrder.indexOf(franchise)\n            let userTeamIndex: number = store.User.league.draftOrder.indexOf(store.User.franchise)\n\n            if (userTeamIndex > currentTeamIndex) {\n                numOfPicks = userTeamIndex - currentTeamIndex\n            } else {\n                numOfPicks = Math.abs(store.User.league.franchiseSet.length - currentTeamIndex + userTeamIndex)\n            }\n\n            if (store.User.league.draftClassRemaining < numOfPicks) {\n                numOfPicks = store.User.league.draftClassRemaining\n            }\n\n            for (let i = 0; i < numOfPicks; i++) {\n                draftRepeater(i);\n            }\n\n            function draftRepeater(i: any) {\n                setTimeout(function () {\n                    franchise = store.User.league.draftingFranchise\n                    player = store.User.league.bestDraftPlayer\n                    draftSim(franchise, player)\n                }, 650 * i);\n            }\n        }\n\n        const draftSim = (franchise: FranchiseTypeModelType, player: any) => {\n            store.mutateCreatePlayer({\n                    \"playerInput\": {\n                        \"name\": player.name,\n                        \"suit\": player.suit,\n                        \"age\": player.age,\n                        \"pv\": player.pv,\n                        \"epv\": player.epv,\n                        \"sEpv\": player.sEpv,\n                        \"contract\": undefined,\n                        \"tOption\": undefined,\n                        \"pOption\": undefined,\n                        \"renew\": undefined,\n                        \"salary\": undefined,\n                        \"grade\": undefined,\n                        \"lineup\": \"bench\",\n                        \"franchiseId\": store.User.franchise.league.draftingFranchise.id,\n                        \"trainer\": false,\n                        \"year\": player.year,\n                        \"leagueId\": store.User.franchise.league.id\n                    }\n                }, mutateCreatePlayerQuery,\n                undefined\n            )\n            try {\n                // make next franchise in draft order draftingFranchise\n                store.User.league.setDraftingFranchise(store.User.league.draftOrder[store.User.league.draftOrder.indexOf(franchise) + 1])\n            } catch (exception_var) {\n                // if at the end of draft order reset to beginning\n                store.User.league.setDraftingFranchise(store.User.league.draftOrder[0])\n            }\n        }\n\n\n        return (\n            <div>\n                {store.User.league.bestDraftPlayer ?\n                    <Button style={simButtonStyles}\n                            onClick={() => draftSimRepeat(store.User.league.draftingFranchise, store.User.league.bestDraftPlayer)}\n                            block>\n                        Draft Sim\n                    </Button>\n                    :\n                    <h1 style={{textAlign: 'center'}}>\n                        Go to OffSeason\n                    </h1>\n                }\n            </div>\n        );\n    }\n)\n\nexport default DraftButton;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}