{"ast":null,"code":"import _slicedToArray from\"/Users/bwhitmore6/Desktop/Projects/BigLeague/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import'antd/dist/antd.css';import{Table,Select}from'antd';import{observer}from\"mobx-react\";import{toJS}from'mobx';import{StoreContext}from\"../../../models\";import{tableStyles}from\"./TableStyles\";var Option=Select.Option;export var SeasonTable=observer(function(){var store=useContext(StoreContext);var columns=[{title:'Franchise',dataIndex:['franchise','franchise'],key:'franchise'},{title:'Wins',dataIndex:'wins',key:'wins',sorter:function sorter(a,b){return a.wins-b.wins;},defaultSortOrder:'descend'},{title:'Losses',dataIndex:'losses',key:'losses',sorter:function sorter(a,b){return a.losses-b.losses;}},{title:'PPG',dataIndex:'ppg',key:'ppg',sorter:function sorter(a,b){return a.ppg-b.ppg;},render:function render(ppg){return/*#__PURE__*/React.createElement(\"span\",null,ppg===null||ppg===void 0?void 0:ppg.toFixed(1));}},{title:'STD',dataIndex:'std',key:'std',sorter:function sorter(a,b){return a.std-b.std;},render:function render(std){return/*#__PURE__*/React.createElement(\"span\",null,std===null||std===void 0?void 0:std.toFixed(1));}},{title:'Championships',dataIndex:'championships',key:'championships'},{title:'Bonuses',dataIndex:'bonuses',key:'bonuses'},{title:'Penalties',dataIndex:'penalties',key:'penalties'},{title:'Fan Base',dataIndex:'fanBase',key:'fanBase',sorter:function sorter(a,b){return a.fanBase-b.fanBase;},render:function render(fanBase){return/*#__PURE__*/React.createElement(\"span\",null,fanBase===null||fanBase===void 0?void 0:fanBase.toFixed(1));}},{title:'Fan Index',dataIndex:'fanIndex',key:'fanIndex',sorter:function sorter(a,b){return a.fanIndex-b.fanIndex;},render:function render(fanIndex){return/*#__PURE__*/React.createElement(\"span\",null,fanIndex===null||fanIndex===void 0?void 0:fanIndex.toFixed(1));}},{title:'Advertising',dataIndex:'advertising',key:'advertising'},{title:'Ticket Price',dataIndex:'ticketPrice',key:'ticketPrice',sorter:function sorter(a,b){return a.ticketPrice-b.ticketPrice;},render:function render(ticketPrice){return/*#__PURE__*/React.createElement(\"span\",null,ticketPrice===null||ticketPrice===void 0?void 0:ticketPrice.toFixed(0));}},{title:'Tickets Sold',dataIndex:'ticketsSold',key:'ticketsSold',sorter:function sorter(a,b){return a.boxesSold-b.boxesSold;}},{title:'Box Price',dataIndex:'boxPrice',key:'boxPrice',sorter:function sorter(a,b){return a.boxPrice-b.boxPrice;},render:function render(boxPrice){return/*#__PURE__*/React.createElement(\"span\",null,boxPrice===null||boxPrice===void 0?void 0:boxPrice.toFixed(0));}},{title:'Boxes Sold',dataIndex:'boxesSold',key:'boxesSold',sorter:function sorter(a,b){return a.boxesSold-b.boxesSold;}},{title:'Revenue (m)',dataIndex:'revenue',key:'revenue',sorter:function sorter(a,b){return a.revenue-b.revenue;},render:function render(revenue){var _ref;return/*#__PURE__*/React.createElement(\"span\",null,(_ref=revenue/1000000)===null||_ref===void 0?void 0:_ref.toFixed(2));}},{title:'Expenses (m)',dataIndex:'expenses',key:'expenses',sorter:function sorter(a,b){return a.expenses-b.expenses;},render:function render(expenses){var _ref2;return/*#__PURE__*/React.createElement(\"span\",null,(_ref2=expenses/1000000)===null||_ref2===void 0?void 0:_ref2.toFixed(2));}}];// get most recent season (franchise.seasonSet.length - 1) and map each franchise in that season\nvar _useState=useState(store.User.franchise.league.franchiseSet.map(function(franchise){return franchise.seasonSet[franchise.seasonSet.length-1];})),_useState2=_slicedToArray(_useState,2),season=_useState2[0],setSeason=_useState2[1];return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Select,{defaultValue:store.User.franchise.seasonSet[store.User.franchise.seasonSet.length-1].season,bordered:false,style:{width:\"100%\",borderRadius:\"2px\",fontSize:'24px',padding:'0.5rem',marginBottom:'4px',textAlignLast:'center',boxShadow:'rgba(9, 30, 66, 0.1) 0px 1px 1px, rgba(9, 30, 66, 0.1) 0px 0px 1px 1px'},onChange:function onChange(season){return setSeason(store.User.franchise.league.franchiseSet.map(function(franchise){return franchise.seasonSet[parseInt(season)-1];}));}},store.User.franchise.seasonSet.map(function(season){return/*#__PURE__*/React.createElement(Option,{key:season.season,value:season.season},season.season);})),/*#__PURE__*/React.createElement(Table,{rowKey:\"id\"// @ts-ignore (need this to add defaultSorter for Wins)\n,columns:columns,dataSource:toJS(season),pagination:false,bordered:true,style:tableStyles}));});export default SeasonTable;","map":{"version":3,"names":["React","useContext","useState","Table","Select","observer","toJS","StoreContext","tableStyles","Option","SeasonTable","store","columns","title","dataIndex","key","sorter","a","b","wins","defaultSortOrder","losses","ppg","render","createElement","toFixed","std","fanBase","fanIndex","ticketPrice","boxesSold","boxPrice","revenue","_ref","expenses","_ref2","_useState","User","franchise","league","franchiseSet","map","seasonSet","length","_useState2","_slicedToArray","season","setSeason","defaultValue","bordered","style","width","borderRadius","fontSize","padding","marginBottom","textAlignLast","boxShadow","onChange","parseInt","value","rowKey","dataSource","pagination"],"sources":["/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Organisms/Tables/SeasonTable.tsx"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport 'antd/dist/antd.css';\nimport {Table, Select} from 'antd';\nimport {observer} from \"mobx-react\";\nimport {toJS} from 'mobx';\nimport {StoreContext} from \"../../../models\";\nimport {tableStyles} from \"./TableStyles\";\n\nconst {Option} = Select;\n\nexport const SeasonTable: React.FunctionComponent = observer(() => {\n\n        const store = useContext(StoreContext)\n\n        const columns = [\n            {\n                title: 'Franchise',\n                dataIndex: ['franchise', 'franchise'],\n                key: 'franchise',\n            },\n            {\n                title: 'Wins',\n                dataIndex: 'wins',\n                key: 'wins',\n                sorter: (a: any, b: any) => a.wins - b.wins,\n                defaultSortOrder: 'descend',\n            },\n            {\n                title: 'Losses',\n                dataIndex: 'losses',\n                key: 'losses',\n                sorter: (a: any, b: any) => a.losses - b.losses,\n            },\n            {\n                title: 'PPG',\n                dataIndex: 'ppg',\n                key: 'ppg',\n                sorter: (a: any, b: any) => a.ppg - b.ppg,\n                render: (ppg: number) => <span>{ppg?.toFixed(1)}</span>,\n            },\n            {\n                title: 'STD',\n                dataIndex: 'std',\n                key: 'std',\n                sorter: (a: any, b: any) => a.std - b.std,\n                render: (std: number) => <span>{std?.toFixed(1)}</span>,\n            },\n            {\n                title: 'Championships',\n                dataIndex: 'championships',\n                key: 'championships',\n            },\n            {\n                title: 'Bonuses',\n                dataIndex: 'bonuses',\n                key: 'bonuses',\n            },\n            {\n                title: 'Penalties',\n                dataIndex: 'penalties',\n                key: 'penalties',\n            },\n            {\n                title: 'Fan Base',\n                dataIndex: 'fanBase',\n                key: 'fanBase',\n                sorter: (a: any, b: any) => a.fanBase - b.fanBase,\n                render: (fanBase: number) => <span>{fanBase?.toFixed(1)}</span>,\n            },\n            {\n                title: 'Fan Index',\n                dataIndex: 'fanIndex',\n                key: 'fanIndex',\n                sorter: (a: any, b: any) => a.fanIndex - b.fanIndex,\n                render: (fanIndex: number) => <span>{fanIndex?.toFixed(1)}</span>,\n            },\n            {\n                title: 'Advertising',\n                dataIndex: 'advertising',\n                key: 'advertising',\n            },\n            {\n                title: 'Ticket Price',\n                dataIndex: 'ticketPrice',\n                key: 'ticketPrice',\n                sorter: (a: any, b: any) => a.ticketPrice - b.ticketPrice,\n                render: (ticketPrice: number) => <span>{(ticketPrice)?.toFixed(0)}</span>,\n            },\n            {\n                title: 'Tickets Sold',\n                dataIndex: 'ticketsSold',\n                key: 'ticketsSold',\n                sorter: (a: any, b: any) => a.boxesSold - b.boxesSold,\n            },\n            {\n                title: 'Box Price',\n                dataIndex: 'boxPrice',\n                key: 'boxPrice',\n                sorter: (a: any, b: any) => a.boxPrice - b.boxPrice,\n                render: (boxPrice: number) => <span>{(boxPrice)?.toFixed(0)}</span>,\n            },\n            {\n                title: 'Boxes Sold',\n                dataIndex: 'boxesSold',\n                key: 'boxesSold',\n                sorter: (a: any, b: any) => a.boxesSold - b.boxesSold,\n            },\n            {\n                title: 'Revenue (m)',\n                dataIndex: 'revenue',\n                key: 'revenue',\n                sorter: (a: any, b: any) => a.revenue - b.revenue,\n                render: (revenue: number) => <span>{(revenue / 1000000)?.toFixed(2)}</span>,\n            },\n            {\n                title: 'Expenses (m)',\n                dataIndex: 'expenses',\n                key: 'expenses',\n                sorter: (a: any, b: any) => a.expenses - b.expenses,\n                render: (expenses: number) => <span>{(expenses / 1000000)?.toFixed(2)}</span>,\n            },\n        ];\n\n        // get most recent season (franchise.seasonSet.length - 1) and map each franchise in that season\n        const [season, setSeason] = useState<any>(store.User.franchise.league.franchiseSet.map((franchise: any) => franchise.seasonSet[franchise.seasonSet.length - 1]));\n\n\n        return (\n            <div>\n                <Select\n                    defaultValue={store.User.franchise.seasonSet[store.User.franchise.seasonSet.length - 1].season}\n                    bordered={false}\n                    style={{\n                        width: \"100%\",\n                        borderRadius: \"2px\",\n                        fontSize: '24px',\n                        padding: '0.5rem',\n                        marginBottom: '4px',\n                        textAlignLast: 'center',\n                        boxShadow: 'rgba(9, 30, 66, 0.1) 0px 1px 1px, rgba(9, 30, 66, 0.1) 0px 0px 1px 1px'\n                    }}\n                    onChange={(season: string) => setSeason(store.User.franchise.league.franchiseSet.map((franchise: any) => franchise.seasonSet[parseInt(season) - 1]))}>\n                    {store.User.franchise.seasonSet.map((season: any) =>\n                        (\n                            <Option key={season.season} value={season.season}>\n                                {season.season}\n                            </Option>\n                        )\n                    )}\n                </Select>\n                <Table\n                    rowKey=\"id\"\n                    // @ts-ignore (need this to add defaultSorter for Wins)\n                    columns={columns}\n                    dataSource={toJS(season)}\n                    pagination={false}\n                    bordered\n                    style={tableStyles}\n                />\n            </div>\n        );\n    }\n)\n\nexport default SeasonTable;"],"mappings":"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"},"metadata":{},"sourceType":"module"}