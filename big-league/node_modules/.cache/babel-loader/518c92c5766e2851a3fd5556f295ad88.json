{"ast":null,"code":"import _objectSpread from\"/Users/bwhitmore6/Desktop/Projects/BigLeague/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/bwhitmore6/Desktop/Projects/BigLeague/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import{observer}from'mobx-react';import{StoreContext}from\"../../models\";import{Select,Button,Card,Space}from'antd';import{buttonStyles}from\"./Create/CreateStyles\";import{cardStyles}from\"../Organisms/Cards/CardStyles\";export var StaffSelect=observer(function(){var store=useContext(StoreContext);var _useState=useState(store.User?store.User.franchise:null),_useState2=_slicedToArray(_useState,2),franchise=_useState2[0],setFranchise=_useState2[1];var _useState3=useState(store.User.franchise.gm?store.User.franchise.gm.id:''),_useState4=_slicedToArray(_useState3,2),gmId=_useState4[0],setGmId=_useState4[1];var _useState5=useState(store.User.franchise.coach?store.User.franchise.coach.id:''),_useState6=_slicedToArray(_useState5,2),coachId=_useState6[0],setCoachId=_useState6[1];var coachLabel=function coachLabel(coach){var _coach$franchise;if(coach.franchise)return{value:coach.id,label:[coach.name+\" \"+coach.attributeOne+\" \"+coach.attributeTwo+\" ——— \"+((_coach$franchise=coach.franchise)===null||_coach$franchise===void 0?void 0:_coach$franchise.franchise)]};else return{value:coach.id,label:[coach.name+\" \"+coach.attributeOne+\" \"+coach.attributeTwo]};};var onSubmit=function onSubmit(franchise,gmId,coachId){store.mutateUpdateFranchise({\"franchiseInput\":{\"franchise\":franchise.id,\"gmId\":gmId,\"coachId\":coachId}},\"\\n                franchise{\\n                    __typename\\n                  id\\n                  franchise\\n                  gm{\\n                    __typename\\n                    id\\n                    trait\\n                  }\\n                  coach{\\n                    __typename\\n                    id\\n                    name\\n                  }\\n                }\\n                \",undefined);};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Card,{style:cardStyles,title:\"Select Staff\"},/*#__PURE__*/React.createElement(Space,{direction:\"vertical\"},/*#__PURE__*/React.createElement(\"label\",null,\"GMs \"),/*#__PURE__*/React.createElement(Select,{style:{minWidth:'500px'},options:store.User.league.gmSet.map(function(gm){return{value:gm.id,label:gm.trait};}),value:gmId,onChange:function onChange(gm){return setGmId(gm);}}),/*#__PURE__*/React.createElement(\"label\",null,\"Coaches \"),/*#__PURE__*/React.createElement(Select,{style:{minWidth:'500px'},options:store.User.league.coachSet.map(function(coach){return coachLabel(coach);}),value:coachId,onChange:function onChange(coach){return setCoachId(coach);}}),store.User.franchise.gm&&store.User.franchise.coach?null:/*#__PURE__*/React.createElement(Button,{style:_objectSpread(_objectSpread({},buttonStyles),{width:'25%'}),onClick:function onClick(){return onSubmit(franchise,gmId,coachId);}},\"Sign\"))));});export default StaffSelect;","map":{"version":3,"names":["React","useContext","useState","observer","StoreContext","Select","Button","Card","Space","buttonStyles","cardStyles","StaffSelect","store","_useState","User","franchise","_useState2","_slicedToArray","setFranchise","_useState3","gm","id","_useState4","gmId","setGmId","_useState5","coach","_useState6","coachId","setCoachId","coachLabel","_coach$franchise","value","label","name","attributeOne","attributeTwo","onSubmit","mutateUpdateFranchise","undefined","createElement","style","title","direction","minWidth","options","league","gmSet","map","trait","onChange","coachSet","_objectSpread","width","onClick"],"sources":["/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Molecules/StaffSelect.tsx"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport {observer} from 'mobx-react'\nimport {CoachTypeModelType, StoreContext} from \"../../models\";\nimport {Select, Button, Card, Space} from 'antd';\nimport {buttonStyles} from \"./Create/CreateStyles\";\nimport {cardStyles} from \"../Organisms/Cards/CardStyles\";\n\n\nexport const StaffSelect: React.FunctionComponent = observer(() => {\n\n    const store = useContext(StoreContext)\n\n    const [franchise, setFranchise] = useState<any>(store.User ? store.User.franchise : null);\n    const [gmId, setGmId] = useState<string>(store.User.franchise.gm ? store.User.franchise.gm.id : '');\n    const [coachId, setCoachId] = useState<string>(store.User.franchise.coach ? store.User.franchise.coach.id : '');\n\n    const coachLabel = (coach: CoachTypeModelType) => {\n        if (coach.franchise)\n            return {\n                value: coach.id,\n                label: [coach.name + \" \" + coach.attributeOne + \" \" + coach.attributeTwo + \" ——— \" + coach.franchise?.franchise]\n            }\n        else\n            return {value: coach.id, label: [coach.name + \" \" + coach.attributeOne + \" \" + coach.attributeTwo]}\n    }\n\n    const onSubmit = (franchise: any, gmId: string, coachId: string) => {\n        store.mutateUpdateFranchise({\n                \"franchiseInput\": {\n                    \"franchise\": franchise.id,\n                    \"gmId\": gmId,\n                    \"coachId\": coachId,\n                },\n            },\n            `\n                franchise{\n                    __typename\n                  id\n                  franchise\n                  gm{\n                    __typename\n                    id\n                    trait\n                  }\n                  coach{\n                    __typename\n                    id\n                    name\n                  }\n                }\n                `,\n            undefined\n        )\n    };\n\n    return (\n        <div>\n            <Card style={cardStyles}\n                  title=\"Select Staff\">\n                <Space direction=\"vertical\">\n                    <label>GMs </label>\n                    <Select style={{minWidth: '500px'}} options={store.User.league.gmSet.map((gm: any) => {\n                        return {value: gm.id, label: gm.trait}\n                    })}\n                            value={gmId} onChange={(gm: any) => setGmId(gm)}/>\n                    <label>Coaches </label>\n                    <Select style={{minWidth: '500px'}} options={store.User.league.coachSet.map((coach: any) => {\n                        return coachLabel(coach)\n                    })}\n                            value={coachId} onChange={(coach: any) => setCoachId(coach)}/>\n                    {store.User.franchise.gm && store.User.franchise.coach ? null :\n                        <Button style={{...buttonStyles, ...{width: '25%'}}}\n                                onClick={() => onSubmit(franchise, gmId, coachId)}>Sign</Button>}\n                </Space>\n            </Card>\n        </div>\n    );\n})\n\nexport default StaffSelect;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}