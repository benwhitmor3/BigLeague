{"ast":null,"code":"import _toConsumableArray from \"/Users/bwhitmore6/Desktop/Projects/BigLeague/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Organisms/Tables/PlayerHistoryTable.tsx\";\nimport React, { useContext } from 'react';\nimport { StoreContext } from \"../../../models\";\nimport 'antd/dist/antd.css';\nimport { Table, Tag, Spin } from 'antd';\nimport { observer } from \"mobx-react\";\nimport { toJS } from 'mobx';\nimport { colour, insertArray, suit_icon } from \"../../Utils/tablefunctions\";\nimport { tableStyles } from \"./TableStyles\";\nexport var PlayerHistoryTable = observer(function () {\n  var _store$User$league$pl, _store$User$league$pl2, _store$User;\n  var store = useContext(StoreContext);\n  var non_scouter_columns = [{\n    title: 'Name',\n    dataIndex: 'name',\n    key: 'name',\n    sorter: function sorter(a, b) {\n      return a.name.localeCompare(b.name);\n    },\n    // @ts-ignore\n    filters: _toConsumableArray(new Map((_store$User$league$pl = store.User.league.playerhistorySet) === null || _store$User$league$pl === void 0 ? void 0 : _store$User$league$pl.map(function (item) {\n      return [item['name'], {\n        text: item.name,\n        value: item.name\n      }];\n    })).values()),\n    onFilter: function onFilter(value, record) {\n      return record.name.indexOf(value) === 0;\n    }\n  }, {\n    title: 'Season',\n    dataIndex: 'season',\n    key: 'season',\n    sorter: function sorter(a, b) {\n      return a.season - b.season;\n    },\n    // @ts-ignore\n    filters: _toConsumableArray(new Map((_store$User$league$pl2 = store.User.league.playerhistorySet) === null || _store$User$league$pl2 === void 0 ? void 0 : _store$User$league$pl2.map(function (item) {\n      return [item['season'], {\n        text: item.season,\n        value: item.season\n      }];\n    })).values()),\n    onFilter: function onFilter(value, record) {\n      return record.season.indexOf(value) === 0;\n    }\n  }, {\n    title: 'Age',\n    dataIndex: 'age',\n    key: 'age',\n    sorter: function sorter(a, b) {\n      return a.age - b.age;\n    }\n  }, {\n    title: 'EPV',\n    dataIndex: 'epv',\n    key: 'epv',\n    sorter: function sorter(a, b) {\n      return a.epv - b.epv;\n    },\n    render: function render(epv) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 42\n        }\n      }, epv.toFixed(1));\n    }\n  }, {\n    title: 'Suit',\n    dataIndex: 'suit',\n    key: 'suit',\n    render: function render(suit) {\n      return /*#__PURE__*/React.createElement(Tag, {\n        icon: suit_icon(suit),\n        color: colour(suit),\n        key: suit,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }\n      }, suit.toUpperCase());\n    },\n    filters: [{\n      text: 'Diamond',\n      value: 'diamond'\n    }, {\n      text: 'Spade',\n      value: 'spade'\n    }, {\n      text: 'Heart',\n      value: 'heart'\n    }, {\n      text: 'Club',\n      value: 'club'\n    }],\n    onFilter: function onFilter(value, record) {\n      return record.suit.indexOf(value) === 0;\n    }\n  }];\n  var sEPV_column = {\n    title: 'S EPV',\n    dataIndex: 'sEpv',\n    key: 'sEpv',\n    sorter: function sorter(a, b) {\n      return a.sEpv - b.sEpv;\n    },\n    render: function render(sEpv) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 43\n        }\n      }, sEpv.toFixed(1));\n    }\n  };\n  var columns = function columns() {\n    if (store.User.franchise.gm !== null) {\n      if (store.User.franchise.gm.trait === \"SCOUTER\") {\n        var scouter_columns = non_scouter_columns;\n        insertArray(non_scouter_columns, 4, sEPV_column);\n        return scouter_columns;\n      } else {\n        return non_scouter_columns;\n      }\n    } else return non_scouter_columns;\n  };\n  if (((_store$User = store.User) === null || _store$User === void 0 ? void 0 : _store$User.franchise) === undefined) return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(Spin, {\n    size: \"large\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 62\n    }\n  }));else {\n    return /*#__PURE__*/React.createElement(Table, {\n      rowKey: \"id\",\n      columns: columns(),\n      dataSource: toJS(store.User.league.playerhistorySet),\n      pagination: false,\n      bordered: true,\n      style: tableStyles,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    });\n  }\n});\nexport default PlayerHistoryTable;","map":{"version":3,"names":["React","useContext","StoreContext","Table","Tag","Spin","observer","toJS","colour","insertArray","suit_icon","tableStyles","PlayerHistoryTable","_store$User$league$pl","_store$User$league$pl2","_store$User","store","non_scouter_columns","title","dataIndex","key","sorter","a","b","name","localeCompare","filters","_toConsumableArray","Map","User","league","playerhistorySet","map","item","text","value","values","onFilter","record","indexOf","season","age","epv","render","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","suit","icon","color","toUpperCase","sEPV_column","sEpv","columns","franchise","gm","trait","scouter_columns","undefined","size","rowKey","dataSource","pagination","bordered","style"],"sources":["/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Organisms/Tables/PlayerHistoryTable.tsx"],"sourcesContent":["import React, {useContext} from 'react';\nimport {StoreContext} from \"../../../models\";\nimport 'antd/dist/antd.css';\nimport {Table, Tag, Spin} from 'antd';\nimport {observer} from \"mobx-react\";\nimport {toJS} from 'mobx';\nimport {colour, insertArray, suit_icon} from \"../../Utils/tablefunctions\";\nimport {tableStyles} from \"./TableStyles\";\n\n\nexport const PlayerHistoryTable: React.FunctionComponent = observer(() => {\n\n        const store = useContext(StoreContext)\n\n    const non_scouter_columns = [\n            {\n                title: 'Name',\n                dataIndex: 'name',\n                key: 'name',\n                sorter: (a: any, b: any) => a.name.localeCompare(b.name),\n                // @ts-ignore\n                filters: [...new Map(store.User.league.playerhistorySet?.map(item =>\n                [item['name'], {text: item.name, value: item.name}])).values()],\n                onFilter: (value: any, record: any) => record.name.indexOf(value) === 0,\n            },\n            {\n                title: 'Season',\n                dataIndex: 'season',\n                key: 'season',\n                sorter: (a: any, b: any) => a.season - b.season,\n                // @ts-ignore\n                filters: [...new Map(store.User.league.playerhistorySet?.map(item =>\n                [item['season'], {text: item.season, value: item.season}])).values()],\n                onFilter: (value: any, record: any) => record.season.indexOf(value) === 0,\n            },\n            {\n                title: 'Age',\n                dataIndex: 'age',\n                key: 'age',\n                sorter: (a: any, b: any) => a.age - b.age,\n            },\n            {\n                title: 'EPV',\n                dataIndex: 'epv',\n                key: 'epv',\n                sorter: (a: any, b: any) => a.epv - b.epv,\n                render: (epv: number) => <span>{epv.toFixed(1)}</span>,\n            },\n            {\n                title: 'Suit',\n                dataIndex: 'suit',\n                key: 'suit',\n                render: (suit: string) => (\n                    <Tag icon={suit_icon(suit)} color={colour(suit)} key={suit}>\n                        {suit.toUpperCase()}\n                    </Tag>\n                ),\n                filters: [\n                    {\n                        text: 'Diamond',\n                        value: 'diamond',\n                    },\n                    {\n                        text: 'Spade',\n                        value: 'spade',\n                    },\n                    {\n                        text: 'Heart',\n                        value: 'heart',\n                    },\n                    {\n                        text: 'Club',\n                        value: 'club',\n                    },\n                ],\n                onFilter: (value: any, record: any) => record.suit.indexOf(value) === 0,\n            },\n        ];\n\n\n        let sEPV_column =\n            {\n                title: 'S EPV',\n                dataIndex: 'sEpv',\n                key: 'sEpv',\n                sorter: (a: any, b: any) => a.sEpv - b.sEpv,\n                render: (sEpv: number) => <span>{sEpv.toFixed(1)}</span>,\n            }\n\n\n        const columns = () => {\n            if (store.User.franchise.gm !== null)\n                if (store.User.franchise.gm.trait === \"SCOUTER\") {\n                    let scouter_columns = non_scouter_columns\n                    insertArray(non_scouter_columns, 4, sEPV_column)\n                    return scouter_columns\n                } else {\n                    return non_scouter_columns\n                }\n            else return non_scouter_columns\n        }\n\n\n        if (store.User?.franchise === undefined) return <div><Spin size=\"large\"/></div>;\n        else {\n            return (\n                <Table\n                    rowKey=\"id\"\n                    columns={columns()}\n                    dataSource={toJS(store.User.league.playerhistorySet)}\n                    pagination={false}\n                    bordered\n                    style={tableStyles}\n                />\n            );\n        }\n    }\n)\n\nexport default PlayerHistoryTable;"],"mappings":"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"},"metadata":{},"sourceType":"module"}