{"ast":null,"code":"import _slicedToArray from\"/Users/bwhitmore6/Desktop/Projects/BigLeague/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import'antd/dist/antd.css';import{Button}from'antd';import{observer}from\"mobx-react\";import axios from\"axios\";import{StoreContext}from\"../../../models\";import SmallLoading from\"../../Atoms/Loading/SmallLoading\";import{simButtonStyles}from\"./SimButtonStyles\";export var FreeAgencyButton=observer(function(){var store=useContext(StoreContext);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var email=localStorage.getItem('email')?localStorage.getItem('email'):'';var signFreeAgents=function signFreeAgents(){var link;if(window.location.port==='3000'){link=window.location.hostname+':8000';}else{link=window.location.host;}var data=new FormData();data.append(\"franchise_id\",store.User.franchise.id);data.append(\"season\",store.User.franchise.seasonSet.length);setLoading(true);axios.post(window.location.protocol+\"//\"+link+'/free_agency',data).then(function(res){console.log(res.data);store.queryUser({email:email},\"        \\n                    __typename\\n                    id\\n                    franchise{\\n                        __typename\\n                        id\\n                        stadium{\\n                          __typename\\n                          id\\n                          grade\\n                          maxGrade\\n                        }\\n                      league{\\n                        __typename\\n                        id\\n                        playerSet{\\n                          __typename\\n                            id\\n                            name\\n                            suit\\n                            age\\n                            pv\\n                            epv\\n                            sEpv\\n                            contract\\n                            tOption\\n                            pOption\\n                            renew\\n                            salary\\n                            grade\\n                            trainer\\n                            year\\n                            franchise{\\n                                __typename\\n                                id\\n                                franchise\\n                            }\\n                        }\\n                        franchiseSet{\\n                          __typename\\n                          id\\n                          playerSet{\\n                            __typename\\n                            id\\n                            name\\n                            suit\\n                            age\\n                            pv\\n                            epv\\n                            sEpv\\n                            contract\\n                            tOption\\n                            pOption\\n                            renew\\n                            salary\\n                            grade\\n                            trainer\\n                            year\\n                            franchise {\\n                                __typename\\n                                id\\n                                franchise\\n                            }\\n                          }\\n                        }\\n                      }\\n                    }\",{});setTimeout(function(){setLoading(false);},2000);}).catch(function(err){console.log(err);setTimeout(function(){setLoading(false);},2000);});};if(loading)return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(SmallLoading,{animation:\"ld ld-bounce\"}));else{return/*#__PURE__*/React.createElement(\"div\",null,store.User.league.freeAgentClassSigned.length>0?null:/*#__PURE__*/React.createElement(Button,{style:simButtonStyles,onClick:function onClick(){return signFreeAgents();},block:true},\"Sim Free Agents\"));}});export default FreeAgencyButton;","map":{"version":3,"names":["React","useContext","useState","Button","observer","axios","StoreContext","SmallLoading","simButtonStyles","FreeAgencyButton","store","_useState","_useState2","_slicedToArray","loading","setLoading","email","localStorage","getItem","signFreeAgents","link","window","location","port","hostname","host","data","FormData","append","User","franchise","id","seasonSet","length","post","protocol","then","res","console","log","queryUser","setTimeout","catch","err","createElement","animation","league","freeAgentClassSigned","style","onClick","block"],"sources":["/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Molecules/SimulationButtons/FreeAgentButton.tsx"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport 'antd/dist/antd.css';\nimport {Button} from 'antd';\nimport {observer} from \"mobx-react\";\nimport axios from \"axios\";\nimport {StoreContext} from \"../../../models\";\nimport SmallLoading from \"../../Atoms/Loading/SmallLoading\";\nimport {simButtonStyles} from \"./SimButtonStyles\";\n\nexport const FreeAgencyButton: React.FunctionComponent = observer(() => {\n\n        const store = useContext(StoreContext)\n\n        const [loading, setLoading] = useState<boolean>(false)\n        const email: any = localStorage.getItem('email') ? localStorage.getItem('email') : '';\n\n        const signFreeAgents = () => {\n            let link;\n            if (window.location.port === '3000') {\n                link = window.location.hostname + ':8000'\n            } else {\n                link = window.location.host\n            }\n            const data = new FormData();\n            data.append(\"franchise_id\", store.User.franchise.id)\n            data.append(\"season\", store.User.franchise.seasonSet.length)\n            setLoading(true)\n            axios.post(window.location.protocol + \"//\" + link + '/free_agency', data)\n                .then(res => {\n                    console.log(res.data)\n                    store.queryUser(\n                    {email: email},\n                    `        \n                    __typename\n                    id\n                    franchise{\n                        __typename\n                        id\n                        stadium{\n                          __typename\n                          id\n                          grade\n                          maxGrade\n                        }\n                      league{\n                        __typename\n                        id\n                        playerSet{\n                          __typename\n                            id\n                            name\n                            suit\n                            age\n                            pv\n                            epv\n                            sEpv\n                            contract\n                            tOption\n                            pOption\n                            renew\n                            salary\n                            grade\n                            trainer\n                            year\n                            franchise{\n                                __typename\n                                id\n                                franchise\n                            }\n                        }\n                        franchiseSet{\n                          __typename\n                          id\n                          playerSet{\n                            __typename\n                            id\n                            name\n                            suit\n                            age\n                            pv\n                            epv\n                            sEpv\n                            contract\n                            tOption\n                            pOption\n                            renew\n                            salary\n                            grade\n                            trainer\n                            year\n                            franchise {\n                                __typename\n                                id\n                                franchise\n                            }\n                          }\n                        }\n                      }\n                    }`,\n                    {}\n                    )\n                    setTimeout(() => {setLoading(false)}, 2000);\n                })\n                .catch(err => {\n                    console.log(err)\n                    setTimeout(() => {setLoading(false)}, 2000);\n                })\n        };\n\n\n        if (loading) return (\n            <div>\n                <SmallLoading animation=\"ld ld-bounce\"/>\n            </div>\n        )\n        else {\n            return (\n                <div>\n                    {(store.User.league.freeAgentClassSigned.length > 0) ?\n                        null :\n                    <Button style={simButtonStyles} onClick={() => signFreeAgents()} block>\n                        Sim Free Agents\n                    </Button>\n                    }\n                </div>\n            );\n        }\n    }\n)\n\nexport default FreeAgencyButton;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}