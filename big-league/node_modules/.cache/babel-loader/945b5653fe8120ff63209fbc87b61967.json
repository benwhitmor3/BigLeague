{"ast":null,"code":"import _slicedToArray from \"/Users/bwhitmore6/Desktop/Projects/BigLeague/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Molecules/LineupSelect.tsx\";\nimport React, { useContext, useState } from \"react\";\nimport { StoreContext } from \"../../models\";\nimport { Select } from \"../Atoms/Select\";\nimport { observer } from \"mobx-react\";\nimport { mutateCreatePlayerQuery } from \"../Utils/queries\";\nvar LineupSelect = observer(function (_ref) {\n  var current_lineup = _ref.current_lineup,\n    record = _ref.record,\n    setRosterAlert = _ref.setRosterAlert;\n  var store = useContext(StoreContext);\n  var _useState = useState(current_lineup),\n    _useState2 = _slicedToArray(_useState, 2),\n    selected = _useState2[0],\n    setSelected = _useState2[1];\n  var submitLineup = function submitLineup(updated_lineup) {\n    // hides roster alert if previously true\n    setRosterAlert(false);\n    // get current lineup array\n    var lineupArray = record.franchise.playerSet.map(function (p) {\n      return p.lineup;\n    });\n    // add updated_lineup selection\n    lineupArray.push(updated_lineup);\n    // if legal lineup run mutation\n    if (lineupArray.filter(function (x) {\n      return x === \"starter\";\n    }).length <= 5 && lineupArray.filter(function (x) {\n      return x === \"rotation\";\n    }).length <= 3) {\n      setSelected(updated_lineup);\n      store.mutateCreatePlayer({\n        \"playerInput\": {\n          \"name\": record.name,\n          \"suit\": record.suit,\n          \"age\": record.age,\n          \"pv\": record.pv,\n          \"epv\": record.epv,\n          \"sEpv\": record.sEpv,\n          \"contract\": record.contract,\n          \"tOption\": record.tOption,\n          \"pOption\": record.pOption,\n          \"renew\": record.renew,\n          \"salary\": record.salary,\n          \"grade\": record.grade,\n          \"franchiseId\": record.franchise.id,\n          \"trainer\": record.trainer,\n          \"year\": record.year,\n          \"lineup\": updated_lineup,\n          \"leagueId\": store.User.franchise.league.id\n        }\n      }, mutateCreatePlayerQuery, undefined);\n    }\n    // else set roster alert pop-up\n    else {\n      setRosterAlert(true);\n    }\n  };\n  var other_values = [\"starter\", \"rotation\", \"bench\"].filter(function (x) {\n    return ![current_lineup].includes(x);\n  });\n  var options = function options(other_values) {\n    if (other_values.length === 2) {\n      return [{\n        value: current_lineup,\n        label: current_lineup\n      }, {\n        value: other_values[0],\n        label: other_values[0]\n      }, {\n        value: other_values[1],\n        label: other_values[1]\n      }];\n    } else {\n      return [{\n        value: current_lineup,\n        label: current_lineup\n      }, {\n        value: other_values[0],\n        label: other_values[0]\n      }, {\n        value: other_values[1],\n        label: other_values[1]\n      }, {\n        value: other_values[2],\n        label: other_values[2]\n      }];\n    }\n  };\n  return /*#__PURE__*/React.createElement(Select, {\n    options: options(other_values),\n    value: selected,\n    onChange: function onChange(updated_lineup) {\n      return submitLineup(updated_lineup);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 20\n    }\n  });\n});\nexport default LineupSelect;","map":{"version":3,"names":["React","useContext","useState","StoreContext","Select","observer","mutateCreatePlayerQuery","LineupSelect","_ref","current_lineup","record","setRosterAlert","store","_useState","_useState2","_slicedToArray","selected","setSelected","submitLineup","updated_lineup","lineupArray","franchise","playerSet","map","p","lineup","push","filter","x","length","mutateCreatePlayer","name","suit","age","pv","epv","sEpv","contract","tOption","pOption","renew","salary","grade","id","trainer","year","User","league","undefined","other_values","includes","options","value","label","createElement","onChange","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Molecules/LineupSelect.tsx"],"sourcesContent":["import React, {useContext, useState} from \"react\";\nimport {PlayerTypeModelType, StoreContext} from \"../../models\";\nimport {Select} from \"../Atoms/Select\";\nimport {observer} from \"mobx-react\";\nimport {mutateCreatePlayerQuery} from \"../Utils/queries\";\n\n\ninterface ILineup {\n    current_lineup: any;\n    record: any;\n    setRosterAlert: (rosteralert:boolean) => void;\n}\n\nconst LineupSelect: React.FunctionComponent<ILineup> = observer(({current_lineup, record, setRosterAlert} : ILineup) => {\n\n            const store = useContext(StoreContext);\n\n            const [selected, setSelected] = useState(current_lineup);\n\n            const submitLineup = (updated_lineup: any) => {\n                // hides roster alert if previously true\n                setRosterAlert(false)\n                // get current lineup array\n                let lineupArray: Array<string> = record.franchise.playerSet.map((p: PlayerTypeModelType) =>\n                    p.lineup\n                );\n                // add updated_lineup selection\n                lineupArray.push(updated_lineup);\n                // if legal lineup run mutation\n                if (lineupArray.filter(x => x === \"starter\").length <= 5 && lineupArray.filter(x => x === \"rotation\").length <= 3) {\n                    setSelected(updated_lineup);\n                    store.mutateCreatePlayer({\n                            \"playerInput\": {\n                                \"name\": record.name,\n                                \"suit\": record.suit,\n                                \"age\": record.age,\n                                \"pv\": record.pv,\n                                \"epv\": record.epv,\n                                \"sEpv\": record.sEpv,\n                                \"contract\": record.contract,\n                                \"tOption\": record.tOption,\n                                \"pOption\": record.pOption,\n                                \"renew\": record.renew,\n                                \"salary\": record.salary,\n                                \"grade\": record.grade,\n                                \"franchiseId\": record.franchise.id,\n                                \"trainer\": record.trainer,\n                                \"year\": record.year,\n                                \"lineup\": updated_lineup,\n                                \"leagueId\": store.User.franchise.league.id\n                            }\n                        }, mutateCreatePlayerQuery,\n                        undefined\n                    )\n                }\n                // else set roster alert pop-up\n                else {\n                    setRosterAlert(true)\n                }\n            };\n\n            let other_values = [\"starter\", \"rotation\", \"bench\"].filter(x => ![current_lineup].includes(x));\n\n            const options = (other_values: Array<string>) => {\n                if (other_values.length === 2) {\n                    return [{value: current_lineup, label: current_lineup}, {\n                        value: other_values[0],\n                        label: other_values[0]\n                    },\n                        {value: other_values[1], label: other_values[1]}];\n                } else {\n                    return [{value: current_lineup, label: current_lineup}, {\n                        value: other_values[0],\n                        label: other_values[0]\n                    },\n                        {value: other_values[1], label: other_values[1]}, {value: other_values[2], label: other_values[2]}];\n                }\n            };\n\n            return <Select options={options(other_values)} value={selected}\n                           onChange={(updated_lineup: any) => submitLineup(updated_lineup)}/>\n        }\n);\n\nexport default LineupSelect;"],"mappings":"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"},"metadata":{},"sourceType":"module"}