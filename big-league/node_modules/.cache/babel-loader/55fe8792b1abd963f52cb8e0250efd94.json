{"ast":null,"code":"var _jsxFileName = \"/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Molecules/SimulationButtons/SetLineupsButton.tsx\";\nimport React, { useContext, useState } from 'react';\nimport 'antd/dist/antd.css';\nimport { Button } from 'antd';\nimport { observer } from \"mobx-react\";\nimport axios from \"axios\";\nimport { StoreContext } from \"../../../models\";\nimport { simButtonStyles } from \"./SimButtonStyles\";\nimport SmallLoading from \"../../Atoms/Loading/SmallLoading\";\nexport const SetLineupsButton = observer(() => {\n  const store = useContext(StoreContext);\n  const [loading, setLoading] = useState(false);\n  const email = localStorage.getItem('email') ? localStorage.getItem('email') : '';\n  const setLineups = () => {\n    let link = '';\n    if (window.location.port === '3000') {\n      link = window.location.hostname + ':8000';\n    } else {\n      link = window.location.host;\n    }\n    const data = new FormData();\n    data.append(\"franchise_id\", store.User.franchise.id);\n    setLoading(true);\n    axios.post(window.location.protocol + \"//\" + link + '/set_lineup', data).then(res => {\n      console.log(res.data);\n      store.queryUser({\n        email: email\n      }, `__typename\n                                      id\n                                      franchise{\n                                        __typename\n                                        id\n                                        league{\n                                          __typename\n                                          id\n                                          franchiseSet{\n                                            __typename\n                                            id\n                                            playerSet{\n                                              __typename\n                                              id\n                                              name\n                                              suit\n                                              age\n                                              pv\n                                              epv\n                                              sEpv\n                                              contract\n                                              tOption\n                                              pOption\n                                              renew\n                                              salary\n                                              grade\n                                              year\n                                              trainer\n                                              lineup\n                                            }\n                                            gm{\n                                                __typename\n                                                id\n                                                trait\n                                            }\n                                            coach{\n                                                __typename\n                                                id\n                                                name\n                                                attributeOne\n                                                attributeTwo\n                                            }\n                                          }\n                                        }\n                                      }`);\n      setTimeout(() => {\n        setLoading(false);\n      }, 1000);\n    }).catch(err => {\n      console.log(err);\n      setTimeout(() => {\n        setLoading(false);\n      }, 1000);\n    });\n  };\n  if (loading) return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SmallLoading, {\n    animation: \"ld ld-bounce\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }));else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: simButtonStyles,\n      onClick: () => setLineups(),\n      block: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    }, \"Set Opponent Lineups\"));\n  }\n});\nexport default SetLineupsButton;","map":{"version":3,"names":["React","useContext","useState","Button","observer","axios","StoreContext","simButtonStyles","SmallLoading","SetLineupsButton","store","loading","setLoading","email","localStorage","getItem","setLineups","link","window","location","port","hostname","host","data","FormData","append","User","franchise","id","post","protocol","then","res","console","log","queryUser","setTimeout","catch","err","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","animation","style","onClick","block"],"sources":["/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Molecules/SimulationButtons/SetLineupsButton.tsx"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport 'antd/dist/antd.css';\nimport {Button} from 'antd';\nimport {observer} from \"mobx-react\";\nimport axios from \"axios\";\nimport {StoreContext} from \"../../../models\";\nimport {simButtonStyles} from \"./SimButtonStyles\";\nimport SmallLoading from \"../../Atoms/Loading/SmallLoading\";\n\nexport const SetLineupsButton: React.FunctionComponent = observer(() => {\n\n        const store = useContext(StoreContext)\n\n        const [loading, setLoading] = useState<boolean>(false)\n        const email: any = localStorage.getItem('email') ? localStorage.getItem('email') : '';\n\n        const setLineups = () => {\n            let link = '';\n            if (window.location.port === '3000') {\n                link = window.location.hostname + ':8000'\n            } else {\n                link = window.location.host\n            }\n            const data = new FormData();\n            data.append(\"franchise_id\", store.User.franchise.id)\n            setLoading(true)\n            axios.post(window.location.protocol + \"//\" + link + '/set_lineup', data)\n                .then(res => {\n                    console.log(res.data)\n                    store.queryUser(\n                    {email: email},\n                        `__typename\n                                      id\n                                      franchise{\n                                        __typename\n                                        id\n                                        league{\n                                          __typename\n                                          id\n                                          franchiseSet{\n                                            __typename\n                                            id\n                                            playerSet{\n                                              __typename\n                                              id\n                                              name\n                                              suit\n                                              age\n                                              pv\n                                              epv\n                                              sEpv\n                                              contract\n                                              tOption\n                                              pOption\n                                              renew\n                                              salary\n                                              grade\n                                              year\n                                              trainer\n                                              lineup\n                                            }\n                                            gm{\n                                                __typename\n                                                id\n                                                trait\n                                            }\n                                            coach{\n                                                __typename\n                                                id\n                                                name\n                                                attributeOne\n                                                attributeTwo\n                                            }\n                                          }\n                                        }\n                                      }`\n                    )\n                    setTimeout(() => {setLoading(false)}, 1000);\n                })\n                .catch(err => {\n                    console.log(err)\n                    setTimeout(() => {setLoading(false)}, 1000);\n                })\n        };\n\n\n        if (loading) return (\n            <div>\n                <SmallLoading animation={\"ld ld-bounce\"}/>\n            </div>\n        )\n        else {\n            return (\n                <div>\n                    <Button style={simButtonStyles} onClick={() => setLineups()} block>\n                        Set Opponent Lineups\n                    </Button>\n                </div>\n            );\n        }\n    }\n)\n\nexport default SetLineupsButton;"],"mappings":"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"},"metadata":{},"sourceType":"module"}