{"ast":null,"code":"import _slicedToArray from\"/Users/bwhitmore6/Desktop/Projects/BigLeague/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import'antd/dist/antd.css';import{Table,Tag,Space}from'antd';import{StoreContext}from\"../../../models\";import{observer}from\"mobx-react\";import{colour,suit_icon,insertArray,_to_fixed}from'../../Utils/tablefunctions';import{observable,toJS}from'mobx';import SigningModal from\"../../Molecules/Modals/SigningModal\";import{tableStyles}from\"./TableStyles\";export var FreeAgentTable=observer(function(){var store=useContext(StoreContext);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedPlayer=_useState4[0],setSelectedPlayer=_useState4[1];var non_scouter_columns=[{title:'Name',dataIndex:'name',key:'name'},{title:'Age',dataIndex:'age',key:'age',sorter:function sorter(a,b){return a.age-b.age;}},{title:'EPV',dataIndex:'epv',key:'epv',sorter:function sorter(a,b){return a.epv-b.epv;},render:function render(epv){return/*#__PURE__*/React.createElement(\"span\",null,epv.toFixed(1));}},{title:'Suit',dataIndex:'suit',key:'suit',render:function render(suit){return/*#__PURE__*/React.createElement(Tag,{icon:suit_icon(suit),color:colour(suit),key:suit},suit.toUpperCase());},filters:[{text:'Diamond',value:'diamond'},{text:'Spade',value:'spade'},{text:'Heart',value:'heart'},{text:'Club',value:'club'}],onFilter:function onFilter(value,record){return record.suit.indexOf(value)===0;}},{title:'Grade',dataIndex:'grade',key:'grade',sorter:function sorter(a,b){return a.grade-b.grade;},render:function render(grade){return/*#__PURE__*/React.createElement(\"span\",null,_to_fixed(grade));}},{title:'Franchise',dataIndex:[\"franchise\",\"franchise\"],key:\"franchise\"}];var sEPV_column={title:'S EPV',dataIndex:'sEpv',key:'sEpv',sorter:function sorter(a,b){return a.sEpv-b.sEpv;},render:function render(sEpv){return/*#__PURE__*/React.createElement(\"span\",null,sEpv.toFixed(1));}};var actionColumn={title:'Action',key:'action',render:function render(record){return record.contract?/*#__PURE__*/React.createElement(Space,{size:\"middle\"},/*#__PURE__*/React.createElement(Tag,{color:\"#89dc0d\",style:{color:\"#000000\",border:\"3px solid #89dc0d\"}},\"Signed\")):/*#__PURE__*/React.createElement(Space,{size:\"middle\"},/*#__PURE__*/React.createElement(Tag,{icon:/*#__PURE__*/React.createElement(\"span\",{style:{marginRight:'3px'},role:\"img\",\"aria-label\":\"player\"},\" \\uD83D\\uDCDD \"),color:\"#ffe479\",style:{color:\"#000000\",border:\"3px solid #ffe479\",cursor:\"pointer\"},onClick:function onClick(){setSelectedPlayer(record);setVisible(true);}},\"Offer Contract\"));}};var columns=function columns(){if(store.User.franchise.gm!==null)if(store.User.franchise.league.freeAgentClassSigned.length>0){insertArray(non_scouter_columns,6,actionColumn);}if(store.User.franchise.gm.trait===\"SCOUTER\"){var scouter_columns=non_scouter_columns;insertArray(non_scouter_columns,3,sEPV_column);return scouter_columns;}else{return non_scouter_columns;}return non_scouter_columns;};// need to make observable to update table (draftClass not being observed by ant d table)\nvar freeAgentClass=observable(store.User.franchise.league.freeAgentClass);if(store.User===undefined||store.User.franchise===undefined)return/*#__PURE__*/React.createElement(\"div\",null,\" loading\");else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(SigningModal,{visible:visible,setVisible:setVisible,selectedplayer:selectedPlayer}),/*#__PURE__*/React.createElement(Table,{rowKey:\"id\",columns:columns(),dataSource:toJS(freeAgentClass),pagination:false,bordered:true,style:tableStyles}));}});export default FreeAgentTable;","map":{"version":3,"names":["React","useContext","useState","Table","Tag","Space","StoreContext","observer","colour","suit_icon","insertArray","_to_fixed","observable","toJS","SigningModal","tableStyles","FreeAgentTable","store","_useState","_useState2","_slicedToArray","visible","setVisible","_useState3","_useState4","selectedPlayer","setSelectedPlayer","non_scouter_columns","title","dataIndex","key","sorter","a","b","age","epv","render","createElement","toFixed","suit","icon","color","toUpperCase","filters","text","value","onFilter","record","indexOf","grade","sEPV_column","sEpv","actionColumn","contract","size","style","border","marginRight","role","cursor","onClick","columns","User","franchise","gm","league","freeAgentClassSigned","length","trait","scouter_columns","freeAgentClass","undefined","selectedplayer","rowKey","dataSource","pagination","bordered"],"sources":["/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Organisms/Tables/FreeAgentTable.tsx"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport 'antd/dist/antd.css';\nimport {Table, Tag, Space} from 'antd';\nimport {PlayerTypeModelType, StoreContext} from \"../../../models\";\nimport {observer} from \"mobx-react\";\nimport {colour, suit_icon, insertArray, _to_fixed} from '../../Utils/tablefunctions'\nimport {IObservableArray, observable, toJS} from 'mobx';\nimport SigningModal from \"../../Molecules/Modals/SigningModal\";\nimport {tableStyles} from \"./TableStyles\";\n\nexport const FreeAgentTable: React.FunctionComponent = observer(() => {\n\n        const store = useContext(StoreContext)\n\n        const [visible, setVisible] = useState<boolean>(false)\n        const [selectedPlayer, setSelectedPlayer] = useState<any>([]);\n\n        const non_scouter_columns = [\n            {\n                title: 'Name',\n                dataIndex: 'name',\n                key: 'name',\n            },\n            {\n                title: 'Age',\n                dataIndex: 'age',\n                key: 'age',\n                sorter: (a: any, b: any) => a.age - b.age,\n            },\n            {\n                title: 'EPV',\n                dataIndex: 'epv',\n                key: 'epv',\n                sorter: (a: any, b: any) => a.epv - b.epv,\n                render: (epv: number) => <span>{epv.toFixed(1)}</span>,\n            },\n            {\n                title: 'Suit',\n                dataIndex: 'suit',\n                key: 'suit',\n                render: (suit: string) => (\n                    <Tag icon={suit_icon(suit)} color={colour(suit)} key={suit}>\n                        {suit.toUpperCase()}\n                    </Tag>\n                ),\n                filters: [\n                    {\n                        text: 'Diamond',\n                        value: 'diamond',\n                    },\n                    {\n                        text: 'Spade',\n                        value: 'spade',\n                    },\n                    {\n                        text: 'Heart',\n                        value: 'heart',\n                    },\n                    {\n                        text: 'Club',\n                        value: 'club',\n                    },\n                ],\n                onFilter: (value: any, record: any) => record.suit.indexOf(value) === 0,\n            },\n            {\n                title: 'Grade',\n                dataIndex: 'grade',\n                key: 'grade',\n                sorter: (a: any, b: any) => a.grade - b.grade,\n                render: (grade: number) => <span>{_to_fixed(grade)}</span>,\n            },\n            {\n                title: 'Franchise',\n                dataIndex: [\"franchise\", \"franchise\"],\n                key: \"franchise\",\n            },\n        ];\n\n\n        let sEPV_column =\n            {\n                title: 'S EPV',\n                dataIndex: 'sEpv',\n                key: 'sEpv',\n                sorter: (a: any, b: any) => a.sEpv - b.sEpv,\n                render: (sEpv: number) => <span>{sEpv.toFixed(1)}</span>,\n            }\n\n        let actionColumn =\n                {\n                    title: 'Action',\n                    key: 'action',\n                    render: (record: PlayerTypeModelType) => (\n\n                        (record.contract) ? (\n                            <Space size=\"middle\">\n                                <Tag color={\"#89dc0d\"} style={{ color: \"#000000\", border: \"3px solid #89dc0d\"}}>\n                                    Signed\n                                </Tag>\n                            </Space>\n                        ) : (\n                            <Space size=\"middle\">\n                                <Tag icon={<span style={{marginRight: '3px'}} role=\"img\" aria-label=\"player\"> üìù </span>}\n                                     color={\"#ffe479\"} style={{ color: \"#000000\", border: \"3px solid #ffe479\", cursor: \"pointer\"}}\n                                     onClick={() => {setSelectedPlayer(record); setVisible(true)}}>\n                                    Offer Contract\n                                </Tag>\n                            </Space>\n                        )\n                    ),\n                }\n\n\n        const columns = () => {\n            if (store.User.franchise.gm !== null)\n                if (store.User.franchise.league.freeAgentClassSigned.length > 0) {\n                    insertArray(non_scouter_columns, 6, actionColumn)\n                }\n\n                if (store.User.franchise.gm.trait === \"SCOUTER\") {\n                    let scouter_columns = non_scouter_columns\n                    insertArray(non_scouter_columns, 3, sEPV_column)\n                    return scouter_columns\n                } else {\n                    return non_scouter_columns\n                }\n            return non_scouter_columns\n        }\n\n        // need to make observable to update table (draftClass not being observed by ant d table)\n        let freeAgentClass: IObservableArray<PlayerTypeModelType> = observable(store.User.franchise.league.freeAgentClass)\n\n        if (store.User === undefined || store.User.franchise === undefined) return <div> loading</div>;\n        else {\n            return (\n                <div>\n                <SigningModal visible={visible} setVisible={setVisible} selectedplayer={selectedPlayer}/>\n                <Table\n                    rowKey=\"id\"\n                    columns={columns()}\n                    dataSource={toJS(freeAgentClass)}\n                    pagination={false}\n                    bordered\n                    style={tableStyles}\n                />\n                </div>\n            );\n        }\n    }\n)\n\nexport default FreeAgentTable;\n"],"mappings":"mKAAA,MAAO,CAAAA,KAAK,EAAGC,UAAU,CAAEC,QAAQ,KAAO,OAAO,CACjD,MAAO,oBAAoB,CAC3B,OAAQC,KAAK,CAAEC,GAAG,CAAEC,KAAK,KAAO,MAAM,CACtC,OAA6BC,YAAY,KAAO,iBAAiB,CACjE,OAAQC,QAAQ,KAAO,YAAY,CACnC,OAAQC,MAAM,CAAEC,SAAS,CAAEC,WAAW,CAAEC,SAAS,KAAO,4BAA4B,CACpF,OAA0BC,UAAU,CAAEC,IAAI,KAAO,MAAM,CACvD,MAAO,CAAAC,YAAY,KAAM,qCAAqC,CAC9D,OAAQC,WAAW,KAAO,eAAe,CAEzC,MAAO,IAAM,CAAAC,cAAuC,CAAGT,QAAQ,CAAC,UAAM,CAE9D,GAAM,CAAAU,KAAK,CAAGhB,UAAU,CAACK,YAAY,CAAC,CAEtC,IAAAY,SAAA,CAA8BhB,QAAQ,CAAU,KAAK,CAAC,CAAAiB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/CG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAA4CrB,QAAQ,CAAM,EAAE,CAAC,CAAAsB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAtDE,cAAc,CAAAD,UAAA,IAAEE,iBAAiB,CAAAF,UAAA,IAExC,GAAM,CAAAG,mBAAmB,CAAG,CACxB,CACIC,KAAK,CAAE,MAAM,CACbC,SAAS,CAAE,MAAM,CACjBC,GAAG,CAAE,MACT,CAAC,CACD,CACIF,KAAK,CAAE,KAAK,CACZC,SAAS,CAAE,KAAK,CAChBC,GAAG,CAAE,KAAK,CACVC,MAAM,CAAE,SAAAA,OAACC,CAAM,CAAEC,CAAM,QAAK,CAAAD,CAAC,CAACE,GAAG,CAAGD,CAAC,CAACC,GAAG,EAC7C,CAAC,CACD,CACIN,KAAK,CAAE,KAAK,CACZC,SAAS,CAAE,KAAK,CAChBC,GAAG,CAAE,KAAK,CACVC,MAAM,CAAE,SAAAA,OAACC,CAAM,CAAEC,CAAM,QAAK,CAAAD,CAAC,CAACG,GAAG,CAAGF,CAAC,CAACE,GAAG,GACzCC,MAAM,CAAE,SAAAA,OAACD,GAAW,qBAAKnC,KAAA,CAAAqC,aAAA,aAAOF,GAAG,CAACG,OAAO,CAAC,CAAC,CAAC,CAAQ,EAC1D,CAAC,CACD,CACIV,KAAK,CAAE,MAAM,CACbC,SAAS,CAAE,MAAM,CACjBC,GAAG,CAAE,MAAM,CACXM,MAAM,CAAE,SAAAA,OAACG,IAAY,qBACjBvC,KAAA,CAAAqC,aAAA,CAACjC,GAAG,EAACoC,IAAI,CAAE/B,SAAS,CAAC8B,IAAI,CAAE,CAACE,KAAK,CAAEjC,MAAM,CAAC+B,IAAI,CAAE,CAACT,GAAG,CAAES,IAAK,EACtDA,IAAI,CAACG,WAAW,EAAE,CACjB,EACT,CACDC,OAAO,CAAE,CACL,CACIC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,SACX,CAAC,CACD,CACID,IAAI,CAAE,OAAO,CACbC,KAAK,CAAE,OACX,CAAC,CACD,CACID,IAAI,CAAE,OAAO,CACbC,KAAK,CAAE,OACX,CAAC,CACD,CACID,IAAI,CAAE,MAAM,CACZC,KAAK,CAAE,MACX,CAAC,CACJ,CACDC,QAAQ,CAAE,SAAAA,SAACD,KAAU,CAAEE,MAAW,QAAK,CAAAA,MAAM,CAACR,IAAI,CAACS,OAAO,CAACH,KAAK,CAAC,GAAK,CAAC,EAC3E,CAAC,CACD,CACIjB,KAAK,CAAE,OAAO,CACdC,SAAS,CAAE,OAAO,CAClBC,GAAG,CAAE,OAAO,CACZC,MAAM,CAAE,SAAAA,OAACC,CAAM,CAAEC,CAAM,QAAK,CAAAD,CAAC,CAACiB,KAAK,CAAGhB,CAAC,CAACgB,KAAK,GAC7Cb,MAAM,CAAE,SAAAA,OAACa,KAAa,qBAAKjD,KAAA,CAAAqC,aAAA,aAAO1B,SAAS,CAACsC,KAAK,CAAC,CAAQ,EAC9D,CAAC,CACD,CACIrB,KAAK,CAAE,WAAW,CAClBC,SAAS,CAAE,CAAC,WAAW,CAAE,WAAW,CAAC,CACrCC,GAAG,CAAE,WACT,CAAC,CACJ,CAGD,GAAI,CAAAoB,WAAW,CACX,CACItB,KAAK,CAAE,OAAO,CACdC,SAAS,CAAE,MAAM,CACjBC,GAAG,CAAE,MAAM,CACXC,MAAM,CAAE,SAAAA,OAACC,CAAM,CAAEC,CAAM,QAAK,CAAAD,CAAC,CAACmB,IAAI,CAAGlB,CAAC,CAACkB,IAAI,GAC3Cf,MAAM,CAAE,SAAAA,OAACe,IAAY,qBAAKnD,KAAA,CAAAqC,aAAA,aAAOc,IAAI,CAACb,OAAO,CAAC,CAAC,CAAC,CAAQ,EAC5D,CAAC,CAEL,GAAI,CAAAc,YAAY,CACR,CACIxB,KAAK,CAAE,QAAQ,CACfE,GAAG,CAAE,QAAQ,CACbM,MAAM,CAAE,SAAAA,OAACW,MAA2B,QAE/B,CAAAA,MAAM,CAACM,QAAQ,cACZrD,KAAA,CAAAqC,aAAA,CAAChC,KAAK,EAACiD,IAAI,CAAC,QAAQ,eAChBtD,KAAA,CAAAqC,aAAA,CAACjC,GAAG,EAACqC,KAAK,CAAE,SAAU,CAACc,KAAK,CAAE,CAAEd,KAAK,CAAE,SAAS,CAAEe,MAAM,CAAE,mBAAmB,CAAE,EAAC,QAEhF,CAAM,CACF,cAERxD,KAAA,CAAAqC,aAAA,CAAChC,KAAK,EAACiD,IAAI,CAAC,QAAQ,eAChBtD,KAAA,CAAAqC,aAAA,CAACjC,GAAG,EAACoC,IAAI,cAAExC,KAAA,CAAAqC,aAAA,SAAMkB,KAAK,CAAE,CAACE,WAAW,CAAE,KAAK,CAAE,CAACC,IAAI,CAAC,KAAK,CAAC,aAAW,QAAQ,EAAC,gBAAI,CAAQ,CACpFjB,KAAK,CAAE,SAAU,CAACc,KAAK,CAAE,CAAEd,KAAK,CAAE,SAAS,CAAEe,MAAM,CAAE,mBAAmB,CAAEG,MAAM,CAAE,SAAS,CAAE,CAC7FC,OAAO,CAAE,SAAAA,QAAA,CAAM,CAAClC,iBAAiB,CAACqB,MAAM,CAAC,CAAEzB,UAAU,CAAC,IAAI,CAAC,EAAE,EAAC,gBAEnE,CAAM,CAEb,EAET,CAAC,CAGT,GAAM,CAAAuC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CAClB,GAAI5C,KAAK,CAAC6C,IAAI,CAACC,SAAS,CAACC,EAAE,GAAK,IAAI,CAChC,GAAI/C,KAAK,CAAC6C,IAAI,CAACC,SAAS,CAACE,MAAM,CAACC,oBAAoB,CAACC,MAAM,CAAG,CAAC,CAAE,CAC7DzD,WAAW,CAACiB,mBAAmB,CAAE,CAAC,CAAEyB,YAAY,CAAC,CACrD,CAEA,GAAInC,KAAK,CAAC6C,IAAI,CAACC,SAAS,CAACC,EAAE,CAACI,KAAK,GAAK,SAAS,CAAE,CAC7C,GAAI,CAAAC,eAAe,CAAG1C,mBAAmB,CACzCjB,WAAW,CAACiB,mBAAmB,CAAE,CAAC,CAAEuB,WAAW,CAAC,CAChD,MAAO,CAAAmB,eAAe,CAC1B,CAAC,IAAM,CACH,MAAO,CAAA1C,mBAAmB,CAC9B,CACJ,MAAO,CAAAA,mBAAmB,CAC9B,CAAC,CAED;AACA,GAAI,CAAA2C,cAAqD,CAAG1D,UAAU,CAACK,KAAK,CAAC6C,IAAI,CAACC,SAAS,CAACE,MAAM,CAACK,cAAc,CAAC,CAElH,GAAIrD,KAAK,CAAC6C,IAAI,GAAKS,SAAS,EAAItD,KAAK,CAAC6C,IAAI,CAACC,SAAS,GAAKQ,SAAS,CAAE,mBAAOvE,KAAA,CAAAqC,aAAA,YAAK,UAAQ,CAAM,CAAC,IAC1F,CACD,mBACIrC,KAAA,CAAAqC,aAAA,yBACArC,KAAA,CAAAqC,aAAA,CAACvB,YAAY,EAACO,OAAO,CAAEA,OAAQ,CAACC,UAAU,CAAEA,UAAW,CAACkD,cAAc,CAAE/C,cAAe,EAAE,cACzFzB,KAAA,CAAAqC,aAAA,CAAClC,KAAK,EACFsE,MAAM,CAAC,IAAI,CACXZ,OAAO,CAAEA,OAAO,EAAG,CACnBa,UAAU,CAAE7D,IAAI,CAACyD,cAAc,CAAE,CACjCK,UAAU,CAAE,KAAM,CAClBC,QAAQ,MACRrB,KAAK,CAAExC,WAAY,EACrB,CACI,CAEd,CACJ,CAAC,CACJ,CAED,cAAe,CAAAC,cAAc"},"metadata":{},"sourceType":"module"}