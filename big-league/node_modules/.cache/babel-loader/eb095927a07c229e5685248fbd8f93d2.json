{"ast":null,"code":"import _slicedToArray from \"/Users/bwhitmore6/Desktop/Projects/BigLeague/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Molecules/SimulationButtons/SetStaffButton.tsx\";\nimport React, { useContext, useState } from 'react';\nimport 'antd/dist/antd.css';\nimport { Button } from 'antd';\nimport { observer } from \"mobx-react\";\nimport axios from \"axios\";\nimport { StoreContext } from \"../../../models\";\nimport { simButtonStyles } from \"./SimButtonStyles\";\nimport SmallLoading from \"../../Atoms/Loading/SmallLoading\";\nexport var SetStaffButton = observer(function () {\n  var store = useContext(StoreContext);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var email = localStorage.getItem('email') ? localStorage.getItem('email') : '';\n  var setLineups = function setLineups() {\n    var link = '';\n    if (window.location.port === '3000') {\n      link = window.location.hostname + ':8000';\n    } else {\n      link = window.location.host;\n    }\n    var data = new FormData();\n    data.append(\"franchise_id\", store.User.franchise.id);\n    setLoading(true);\n    axios.post(window.location.protocol + \"//\" + link + '/set_staff', data).then(function (res) {\n      console.log(res.data);\n      store.queryUser({\n        email: email\n      }, \"__typename\\n                                      id\\n                                      franchise{\\n                                        __typename\\n                                        id\\n                                        league{\\n                                          __typename\\n                                          id\\n                                          franchiseSet{\\n                                            __typename\\n                                            id\\n                                            playerSet{\\n                                              __typename\\n                                              id\\n                                              name\\n                                              suit\\n                                              age\\n                                              pv\\n                                              epv\\n                                              sEpv\\n                                              contract\\n                                              tOption\\n                                              pOption\\n                                              renew\\n                                              salary\\n                                              grade\\n                                              year\\n                                              trainer\\n                                              lineup\\n                                            }\\n                                            gm{\\n                                                __typename\\n                                                id\\n                                                trait\\n                                            }\\n                                            coach{\\n                                                __typename\\n                                                id\\n                                                name\\n                                                attributeOne\\n                                                attributeTwo\\n                                                franchise{\\n                                                    __typename\\n                                                    id\\n                                                }\\n                                            }\\n                                          }\\n                                        }\\n                                      }\");\n      setTimeout(function () {\n        setLoading(false);\n      }, 2000);\n    }).catch(function (err) {\n      console.log(err);\n      setTimeout(function () {\n        setLoading(false);\n      }, 2000);\n    });\n  };\n  if (loading) return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SmallLoading, {\n    animation: \"ld ld-bounce\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }));else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: simButtonStyles,\n      onClick: function onClick() {\n        return setLineups();\n      },\n      block: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }, \"Set Opponent Staff\"));\n  }\n});\nexport default SetStaffButton;","map":{"version":3,"names":["React","useContext","useState","Button","observer","axios","StoreContext","simButtonStyles","SmallLoading","SetStaffButton","store","_useState","_useState2","_slicedToArray","loading","setLoading","email","localStorage","getItem","setLineups","link","window","location","port","hostname","host","data","FormData","append","User","franchise","id","post","protocol","then","res","console","log","queryUser","setTimeout","catch","err","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","animation","style","onClick","block"],"sources":["/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Molecules/SimulationButtons/SetStaffButton.tsx"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport 'antd/dist/antd.css';\nimport {Button} from 'antd';\nimport {observer} from \"mobx-react\";\nimport axios from \"axios\";\nimport {StoreContext} from \"../../../models\";\nimport {simButtonStyles} from \"./SimButtonStyles\";\nimport SmallLoading from \"../../Atoms/Loading/SmallLoading\";\n\n\nexport const SetStaffButton: React.FunctionComponent = observer(() => {\n\n        const store = useContext(StoreContext)\n\n        const [loading, setLoading] = useState<boolean>(false)\n        const email: any = localStorage.getItem('email') ? localStorage.getItem('email') : '';\n\n        const setLineups = () => {\n            let link = '';\n            if (window.location.port === '3000') {\n                link = window.location.hostname + ':8000'\n            } else {\n                link = window.location.host\n            }\n            const data = new FormData();\n            data.append(\"franchise_id\", store.User.franchise.id)\n            setLoading(true)\n            axios.post(window.location.protocol + \"//\" + link + '/set_staff', data)\n                .then(res => {\n                    console.log(res.data)\n                    store.queryUser(\n                    {email: email},\n                        `__typename\n                                      id\n                                      franchise{\n                                        __typename\n                                        id\n                                        league{\n                                          __typename\n                                          id\n                                          franchiseSet{\n                                            __typename\n                                            id\n                                            playerSet{\n                                              __typename\n                                              id\n                                              name\n                                              suit\n                                              age\n                                              pv\n                                              epv\n                                              sEpv\n                                              contract\n                                              tOption\n                                              pOption\n                                              renew\n                                              salary\n                                              grade\n                                              year\n                                              trainer\n                                              lineup\n                                            }\n                                            gm{\n                                                __typename\n                                                id\n                                                trait\n                                            }\n                                            coach{\n                                                __typename\n                                                id\n                                                name\n                                                attributeOne\n                                                attributeTwo\n                                                franchise{\n                                                    __typename\n                                                    id\n                                                }\n                                            }\n                                          }\n                                        }\n                                      }`\n                    )\n                    setTimeout(() => {setLoading(false)}, 2000);\n                })\n                .catch(err => {\n                    console.log(err)\n                    setTimeout(() => {setLoading(false)}, 2000);\n                })\n        };\n\n        if (loading) return (\n            <div>\n                <SmallLoading animation={\"ld ld-bounce\"}/>\n            </div>\n        )\n        else {\n            return (\n                <div>\n                    <Button style={simButtonStyles} onClick={() => setLineups()} block>\n                        Set Opponent Staff\n                    </Button>\n                </div>\n            );\n        }\n    }\n)\n\nexport default SetStaffButton;"],"mappings":"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"},"metadata":{},"sourceType":"module"}