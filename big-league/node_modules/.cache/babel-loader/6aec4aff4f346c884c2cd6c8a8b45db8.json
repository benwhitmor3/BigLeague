{"ast":null,"code":"var _jsxFileName = \"/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Molecules/SimulationButtons/DraftButton.tsx\";\nimport React, { useContext } from 'react';\nimport 'antd/dist/antd.css';\nimport { Button } from 'antd';\nimport { observer } from \"mobx-react\";\nimport { StoreContext } from \"../../../models\";\nimport { simButtonStyles } from \"./SimButtonStyles\";\nimport { mutateCreatePlayerQuery } from \"../../Utils/queries\";\nexport const DraftButton = observer(() => {\n  const store = useContext(StoreContext);\n  const draftSimRepeat = (franchise, player) => {\n    let numOfPicks;\n    let currentTeamIndex = store.User.league.draftOrder.indexOf(franchise);\n    let userTeamIndex = store.User.league.draftOrder.indexOf(store.User.franchise);\n    if (userTeamIndex > currentTeamIndex) {\n      numOfPicks = userTeamIndex - currentTeamIndex;\n    } else {\n      numOfPicks = Math.abs(store.User.league.franchiseSet.length - currentTeamIndex + userTeamIndex);\n    }\n    if (store.User.league.draftClassRemaining < numOfPicks) {\n      numOfPicks = store.User.league.draftClassRemaining;\n    }\n    for (let i = 0; i < numOfPicks; i++) {\n      draftRepeater(i);\n    }\n    function draftRepeater(i) {\n      setTimeout(function () {\n        franchise = store.User.league.draftingFranchise;\n        player = store.User.league.bestDraftPlayer;\n        draftSim(franchise, player);\n      }, 650 * i);\n    }\n  };\n  const draftSim = (franchise, player) => {\n    store.mutateCreatePlayer({\n      \"playerInput\": {\n        \"name\": player.name,\n        \"suit\": player.suit,\n        \"age\": player.age,\n        \"pv\": player.pv,\n        \"epv\": player.epv,\n        \"sEpv\": player.sEpv,\n        \"contract\": undefined,\n        \"tOption\": undefined,\n        \"pOption\": undefined,\n        \"renew\": undefined,\n        \"salary\": undefined,\n        \"grade\": undefined,\n        \"lineup\": \"bench\",\n        \"franchiseId\": store.User.franchise.league.draftingFranchise.id,\n        \"trainer\": false,\n        \"year\": player.year,\n        \"leagueId\": store.User.franchise.league.id\n      }\n    }, mutateCreatePlayerQuery, undefined);\n    try {\n      // make next franchise in draft order draftingFranchise\n      store.User.league.setDraftingFranchise(store.User.league.draftOrder[store.User.league.draftOrder.indexOf(franchise) + 1]);\n    } catch (exception_var) {\n      // if at the end of draft order reset to beginning\n      store.User.league.setDraftingFranchise(store.User.league.draftOrder[0]);\n    }\n  };\n  if (store.User.league.bestDraftPlayer) return /*#__PURE__*/React.createElement(Button, {\n    style: simButtonStyles,\n    onClick: () => draftSimRepeat(store.User.league.draftingFranchise, store.User.league.bestDraftPlayer),\n    block: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, \"Draft Sim\");else if (store.User.league.draftingFranchise == store.User.franchise) return /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  });else return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, \"Go to OffSeason\"));\n});\nexport default DraftButton;","map":{"version":3,"names":["React","useContext","Button","observer","StoreContext","simButtonStyles","mutateCreatePlayerQuery","DraftButton","store","draftSimRepeat","franchise","player","numOfPicks","currentTeamIndex","User","league","draftOrder","indexOf","userTeamIndex","Math","abs","franchiseSet","length","draftClassRemaining","i","draftRepeater","setTimeout","draftingFranchise","bestDraftPlayer","draftSim","mutateCreatePlayer","name","suit","age","pv","epv","sEpv","undefined","id","year","setDraftingFranchise","exception_var","createElement","style","onClick","block","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","textAlign"],"sources":["/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Molecules/SimulationButtons/DraftButton.tsx"],"sourcesContent":["import React, {useContext} from 'react';\nimport 'antd/dist/antd.css';\nimport {Button} from 'antd';\nimport {observer} from \"mobx-react\";\nimport {FranchiseTypeModelType, StoreContext} from \"../../../models\";\nimport {simButtonStyles} from \"./SimButtonStyles\";\nimport {mutateCreatePlayerQuery} from \"../../Utils/queries\";\n\nexport const DraftButton: React.FunctionComponent = observer(() => {\n\n        const store = useContext(StoreContext)\n\n\n        const draftSimRepeat = (franchise: FranchiseTypeModelType, player: any) => {\n\n            let numOfPicks: number\n            let currentTeamIndex: number = store.User.league.draftOrder.indexOf(franchise)\n            let userTeamIndex: number = store.User.league.draftOrder.indexOf(store.User.franchise)\n\n            if (userTeamIndex > currentTeamIndex) {\n                numOfPicks = userTeamIndex - currentTeamIndex\n            } else {\n                numOfPicks = Math.abs(store.User.league.franchiseSet.length - currentTeamIndex + userTeamIndex)\n            }\n\n            if (store.User.league.draftClassRemaining < numOfPicks) {\n                numOfPicks = store.User.league.draftClassRemaining\n            }\n\n            for (let i = 0; i < numOfPicks; i++) {\n                draftRepeater(i);\n            }\n\n            function draftRepeater(i: any) {\n                setTimeout(function () {\n                    franchise = store.User.league.draftingFranchise\n                    player = store.User.league.bestDraftPlayer\n                    draftSim(franchise, player)\n                }, 650 * i);\n            }\n        }\n\n        const draftSim = (franchise: FranchiseTypeModelType, player: any) => {\n            store.mutateCreatePlayer({\n                    \"playerInput\": {\n                        \"name\": player.name,\n                        \"suit\": player.suit,\n                        \"age\": player.age,\n                        \"pv\": player.pv,\n                        \"epv\": player.epv,\n                        \"sEpv\": player.sEpv,\n                        \"contract\": undefined,\n                        \"tOption\": undefined,\n                        \"pOption\": undefined,\n                        \"renew\": undefined,\n                        \"salary\": undefined,\n                        \"grade\": undefined,\n                        \"lineup\": \"bench\",\n                        \"franchiseId\": store.User.franchise.league.draftingFranchise.id,\n                        \"trainer\": false,\n                        \"year\": player.year,\n                        \"leagueId\": store.User.franchise.league.id\n                    }\n                }, mutateCreatePlayerQuery,\n                undefined\n            )\n            try {\n                // make next franchise in draft order draftingFranchise\n                store.User.league.setDraftingFranchise(store.User.league.draftOrder[store.User.league.draftOrder.indexOf(franchise) + 1])\n            } catch (exception_var) {\n                // if at the end of draft order reset to beginning\n                store.User.league.setDraftingFranchise(store.User.league.draftOrder[0])\n            }\n        }\n\n        if (store.User.league.bestDraftPlayer)\n            return (\n                <Button style={simButtonStyles}\n                        onClick={() => draftSimRepeat(store.User.league.draftingFranchise, store.User.league.bestDraftPlayer)}\n                        block>\n                    Draft Sim\n                </Button>)\n        else if (store.User.league.draftingFranchise == store.User.franchise)\n            return (\n                <span></span>\n            )\n        else\n        return (\n            <div>\n                    <h1 style={{textAlign: 'center'}}>\n                        Go to OffSeason\n                    </h1>\n            </div>\n        );\n    }\n)\n\nexport default DraftButton;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}