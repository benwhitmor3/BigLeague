{"ast":null,"code":"import _slicedToArray from\"/Users/bwhitmore6/Desktop/Projects/BigLeague/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import'antd/dist/antd.css';import{Button}from'antd';import{observer}from\"mobx-react\";import axios from\"axios\";import{StoreContext}from\"../../../models\";import{simButtonStyles}from\"./SimButtonStyles\";import SmallLoading from\"../../Atoms/Loading/SmallLoading\";export var SetStaffButton=observer(function(){var store=useContext(StoreContext);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var email=localStorage.getItem('email')?localStorage.getItem('email'):'';var setLineups=function setLineups(){var link='';if(window.location.port==='3000'){link=window.location.hostname+':8000';}else{link=window.location.host;}var data=new FormData();data.append(\"franchise_id\",store.User.franchise.id);setLoading(true);axios.post(window.location.protocol+\"//\"+link+'/set_staff',data).then(function(res){console.log(res.data);store.queryUser({email:email},\"__typename\\n                                      id\\n                                      franchise{\\n                                        __typename\\n                                        id\\n                                        league{\\n                                          __typename\\n                                          id\\n                                          franchiseSet{\\n                                            __typename\\n                                            id\\n                                            playerSet{\\n                                              __typename\\n                                              id\\n                                              name\\n                                              suit\\n                                              age\\n                                              pv\\n                                              epv\\n                                              sEpv\\n                                              contract\\n                                              tOption\\n                                              pOption\\n                                              renew\\n                                              salary\\n                                              grade\\n                                              year\\n                                              trainer\\n                                              lineup\\n                                            }\\n                                            gm{\\n                                                __typename\\n                                                id\\n                                                trait\\n                                            }\\n                                            coach{\\n                                                __typename\\n                                                id\\n                                                name\\n                                                attributeOne\\n                                                attributeTwo\\n                                                franchise{\\n                                                    __typename\\n                                                    id\\n                                                }\\n                                            }\\n                                          }\\n                                        }\\n                                      }\");setTimeout(function(){setLoading(false);},2000);}).catch(function(err){console.log(err);setTimeout(function(){setLoading(false);},2000);});};if(loading)return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(SmallLoading,{animation:\"ld ld-bounce\"}));else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{style:simButtonStyles,onClick:function onClick(){return setLineups();},block:true},\"Set Opponent Staff\"));}});export default SetStaffButton;","map":{"version":3,"names":["React","useContext","useState","Button","observer","axios","StoreContext","simButtonStyles","SmallLoading","SetStaffButton","store","_useState","_useState2","_slicedToArray","loading","setLoading","email","localStorage","getItem","setLineups","link","window","location","port","hostname","host","data","FormData","append","User","franchise","id","post","protocol","then","res","console","log","queryUser","setTimeout","catch","err","createElement","animation","style","onClick","block"],"sources":["/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Molecules/SimulationButtons/SetStaffButton.tsx"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport 'antd/dist/antd.css';\nimport {Button} from 'antd';\nimport {observer} from \"mobx-react\";\nimport axios from \"axios\";\nimport {StoreContext} from \"../../../models\";\nimport {simButtonStyles} from \"./SimButtonStyles\";\nimport SmallLoading from \"../../Atoms/Loading/SmallLoading\";\n\n\nexport const SetStaffButton: React.FunctionComponent = observer(() => {\n\n        const store = useContext(StoreContext)\n\n        const [loading, setLoading] = useState<boolean>(false)\n        const email: any = localStorage.getItem('email') ? localStorage.getItem('email') : '';\n\n        const setLineups = () => {\n            let link = '';\n            if (window.location.port === '3000') {\n                link = window.location.hostname + ':8000'\n            } else {\n                link = window.location.host\n            }\n            const data = new FormData();\n            data.append(\"franchise_id\", store.User.franchise.id)\n            setLoading(true)\n            axios.post(window.location.protocol + \"//\" + link + '/set_staff', data)\n                .then(res => {\n                    console.log(res.data)\n                    store.queryUser(\n                    {email: email},\n                        `__typename\n                                      id\n                                      franchise{\n                                        __typename\n                                        id\n                                        league{\n                                          __typename\n                                          id\n                                          franchiseSet{\n                                            __typename\n                                            id\n                                            playerSet{\n                                              __typename\n                                              id\n                                              name\n                                              suit\n                                              age\n                                              pv\n                                              epv\n                                              sEpv\n                                              contract\n                                              tOption\n                                              pOption\n                                              renew\n                                              salary\n                                              grade\n                                              year\n                                              trainer\n                                              lineup\n                                            }\n                                            gm{\n                                                __typename\n                                                id\n                                                trait\n                                            }\n                                            coach{\n                                                __typename\n                                                id\n                                                name\n                                                attributeOne\n                                                attributeTwo\n                                                franchise{\n                                                    __typename\n                                                    id\n                                                }\n                                            }\n                                          }\n                                        }\n                                      }`\n                    )\n                    setTimeout(() => {setLoading(false)}, 2000);\n                })\n                .catch(err => {\n                    console.log(err)\n                    setTimeout(() => {setLoading(false)}, 2000);\n                })\n        };\n\n        if (loading) return (\n            <div>\n                <SmallLoading animation={\"ld ld-bounce\"}/>\n            </div>\n        )\n        else {\n            return (\n                <div>\n                    <Button style={simButtonStyles} onClick={() => setLineups()} block>\n                        Set Opponent Staff\n                    </Button>\n                </div>\n            );\n        }\n    }\n)\n\nexport default SetStaffButton;"],"mappings":"mKAAA,MAAO,CAAAA,KAAK,EAAGC,UAAU,CAAEC,QAAQ,KAAO,OAAO,CACjD,MAAO,oBAAoB,CAC3B,OAAQC,MAAM,KAAO,MAAM,CAC3B,OAAQC,QAAQ,KAAO,YAAY,CACnC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAAQC,YAAY,KAAO,iBAAiB,CAC5C,OAAQC,eAAe,KAAO,mBAAmB,CACjD,MAAO,CAAAC,YAAY,KAAM,kCAAkC,CAG3D,MAAO,IAAM,CAAAC,cAAuC,CAAGL,QAAQ,CAAC,UAAM,CAE9D,GAAM,CAAAM,KAAK,CAAGT,UAAU,CAACK,YAAY,CAAC,CAEtC,IAAAK,SAAA,CAA8BT,QAAQ,CAAU,KAAK,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/CG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,GAAM,CAAAI,KAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAGD,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAG,EAAE,CAErF,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACrB,GAAI,CAAAC,IAAI,CAAG,EAAE,CACb,GAAIC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAK,MAAM,CAAE,CACjCH,IAAI,CAAGC,MAAM,CAACC,QAAQ,CAACE,QAAQ,CAAG,OAAO,CAC7C,CAAC,IAAM,CACHJ,IAAI,CAAGC,MAAM,CAACC,QAAQ,CAACG,IAAI,CAC/B,CACA,GAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,QAAQ,EAAE,CAC3BD,IAAI,CAACE,MAAM,CAAC,cAAc,CAAElB,KAAK,CAACmB,IAAI,CAACC,SAAS,CAACC,EAAE,CAAC,CACpDhB,UAAU,CAAC,IAAI,CAAC,CAChBV,KAAK,CAAC2B,IAAI,CAACX,MAAM,CAACC,QAAQ,CAACW,QAAQ,CAAG,IAAI,CAAGb,IAAI,CAAG,YAAY,CAAEM,IAAI,CAAC,CAClEQ,IAAI,CAAC,SAAAC,GAAG,CAAI,CACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACT,IAAI,CAAC,CACrBhB,KAAK,CAAC4B,SAAS,CACf,CAACtB,KAAK,CAAEA,KAAK,CAAC,k+EAkDb,CACDuB,UAAU,CAAC,UAAM,CAACxB,UAAU,CAAC,KAAK,CAAC,EAAC,CAAE,IAAI,CAAC,CAC/C,CAAC,CAAC,CACDyB,KAAK,CAAC,SAAAC,GAAG,CAAI,CACVL,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC,CAChBF,UAAU,CAAC,UAAM,CAACxB,UAAU,CAAC,KAAK,CAAC,EAAC,CAAE,IAAI,CAAC,CAC/C,CAAC,CAAC,CACV,CAAC,CAED,GAAID,OAAO,CAAE,mBACTd,KAAA,CAAA0C,aAAA,yBACI1C,KAAA,CAAA0C,aAAA,CAAClC,YAAY,EAACmC,SAAS,CAAE,cAAe,EAAE,CACxC,CACT,IACI,CACD,mBACI3C,KAAA,CAAA0C,aAAA,yBACI1C,KAAA,CAAA0C,aAAA,CAACvC,MAAM,EAACyC,KAAK,CAAErC,eAAgB,CAACsC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA1B,UAAU,EAAE,EAAC,CAAC2B,KAAK,OAAC,oBAEnE,CAAS,CACP,CAEd,CACJ,CAAC,CACJ,CAED,cAAe,CAAArC,cAAc"},"metadata":{},"sourceType":"module"}