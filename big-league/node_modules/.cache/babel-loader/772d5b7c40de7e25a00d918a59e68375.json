{"ast":null,"code":"import _slicedToArray from\"/Users/bwhitmore6/Desktop/Projects/BigLeague/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import{observer}from'mobx-react';import{StoreContext}from\"../../../models\";import{Card,Button,Select}from'antd';import axios from\"axios\";import{userQuery}from\"../../Utils/queries\";import SmallLoading from\"../../Atoms/Loading/SmallLoading\";import{buttonStyles,cardStyles,formStyles,labelStyles}from\"./CreateStyles\";var Option=Select.Option;export var CreateBots=observer(function(){var store=useContext(StoreContext);var _useState=useState(\"8\"),_useState2=_slicedToArray(_useState,2),numberOfFranchises=_useState2[0],setNumberOfFranchises=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var email=localStorage.getItem('email')?localStorage.getItem('email'):'';var createBots=function createBots(){var link='';if(window.location.port==='3000'){link=window.location.hostname+':8000';}else{link=window.location.host;}var data=new FormData();data.append(\"franchise_id\",store.User.franchise.id);data.append(\"num_of_franchises\",numberOfFranchises);setLoading(true);axios.post(window.location.protocol+\"//\"+link+'/league_generation',data).then(function(res){console.log(res.data);store.queryUser({email:email},userQuery,{});setLoading(false);}).catch(function(err){console.log(err);setLoading(false);});};if(loading)return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(SmallLoading,{animation:\"ld ld-bounce\"}));else{var _store$User;return/*#__PURE__*/React.createElement(\"div\",{style:formStyles},/*#__PURE__*/React.createElement(Card,{style:cardStyles},/*#__PURE__*/React.createElement(\"h1\",null,(_store$User=store.User)===null||_store$User===void 0?void 0:_store$User.franchise.franchise,\", welcome to the \",store.User.league.leagueName,\"!\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{style:labelStyles},\"Number of Franchises: \"),/*#__PURE__*/React.createElement(Select,{defaultValue:\"8\",style:{width:'20%',marginBottom:'10px'},onChange:function onChange(value){return setNumberOfFranchises(value);}},/*#__PURE__*/React.createElement(Option,{value:\"8\"},\"8\"))),/*#__PURE__*/React.createElement(Button,{style:buttonStyles,onClick:function onClick(){return createBots();}},\"Create Opponents\")));}});export default CreateBots;","map":{"version":3,"names":["React","useContext","useState","observer","StoreContext","Card","Button","Select","axios","userQuery","SmallLoading","buttonStyles","cardStyles","formStyles","labelStyles","Option","CreateBots","store","_useState","_useState2","_slicedToArray","numberOfFranchises","setNumberOfFranchises","_useState3","_useState4","loading","setLoading","email","localStorage","getItem","createBots","link","window","location","port","hostname","host","data","FormData","append","User","franchise","id","post","protocol","then","res","console","log","queryUser","catch","err","createElement","animation","_store$User","style","league","leagueName","defaultValue","width","marginBottom","onChange","value","onClick"],"sources":["/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Molecules/Create/CreateBots.tsx"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport {observer} from 'mobx-react'\nimport {StoreContext} from \"../../../models\";\nimport {Card, Button, Select, Space} from 'antd';\nimport axios from \"axios\";\nimport {userQuery} from \"../../Utils/queries\";\nimport SmallLoading from \"../../Atoms/Loading/SmallLoading\";\nimport {buttonStyles, cardStyles, formStyles, inputStyles, labelStyles} from \"./CreateStyles\";\n\nconst {Option} = Select;\n\nexport const CreateBots: React.FunctionComponent = observer(() => {\n\n        const store = useContext(StoreContext)\n\n        const [numberOfFranchises, setNumberOfFranchises] = useState<string>(\"8\")\n        const [loading, setLoading] = useState<boolean>(false)\n        const email: any = localStorage.getItem('email') ? localStorage.getItem('email') : '';\n\n        const createBots = () => {\n            let link = '';\n            if (window.location.port === '3000') {\n                link = window.location.hostname + ':8000'\n            } else {\n                link = window.location.host\n            }\n            const data = new FormData();\n            data.append(\"franchise_id\", store.User.franchise.id)\n            data.append(\"num_of_franchises\", numberOfFranchises)\n            setLoading(true)\n            axios.post(window.location.protocol + \"//\" + link + '/league_generation', data)\n                .then(res => {\n                    console.log(res.data);\n                    store.queryUser(\n                        {email: email},\n                        userQuery,\n                        {}\n                    )\n                    setLoading(false)\n                })\n                .catch(err => {\n                    console.log(err)\n                    setLoading(false)\n                })\n        };\n\n        if (loading) return (\n            <div>\n                <SmallLoading animation=\"ld ld-bounce\"/>\n            </div>\n        )\n        else {\n            return (\n                <div style={formStyles}>\n                <Card style={cardStyles}>\n                        <h1>{store.User?.franchise.franchise}, welcome to the {store.User.league.leagueName}!</h1>\n                    <div>\n                        <label style={labelStyles}>Number of Franchises: </label>\n                        <Select defaultValue=\"8\" style={{width: '20%', marginBottom: '10px'}}\n                                onChange={(value: any) => setNumberOfFranchises(value)}>\n                            <Option value=\"8\">8</Option>\n                            {/*<Option value=\"10\">10</Option>*/}\n                        </Select>\n                    </div>\n                        <Button style={buttonStyles}\n                                onClick={() => createBots()}>\n                            Create Opponents\n                        </Button>\n                </Card>\n                </div>\n            )\n        }\n    }\n)\n\nexport default CreateBots;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}