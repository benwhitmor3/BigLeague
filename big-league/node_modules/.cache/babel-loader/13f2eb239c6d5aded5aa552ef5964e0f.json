{"ast":null,"code":"var _jsxFileName = \"/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Molecules/SimulationButtons/FreeAgentButton.tsx\";\nimport React, { useContext, useState } from 'react';\nimport 'antd/dist/antd.css';\nimport { Button } from 'antd';\nimport { observer } from \"mobx-react\";\nimport axios from \"axios\";\nimport { StoreContext } from \"../../../models\";\nimport SmallLoading from \"../../Atoms/Loading/SmallLoading\";\nimport { simButtonStyles } from \"./SimButtonStyles\";\nexport const FreeAgencyButton = observer(() => {\n  const store = useContext(StoreContext);\n  const [loading, setLoading] = useState(false);\n  const email = localStorage.getItem('email') ? localStorage.getItem('email') : '';\n  const signFreeAgents = () => {\n    let link;\n    if (window.location.port === '3000') {\n      link = window.location.hostname + ':8000';\n    } else {\n      link = window.location.host;\n    }\n    const data = new FormData();\n    data.append(\"franchise_id\", store.User.franchise.id);\n    data.append(\"season\", store.User.franchise.seasonSet.length);\n    setLoading(true);\n    axios.post(window.location.protocol + \"//\" + link + '/free_agency', data).then(res => {\n      console.log(res.data);\n      store.queryUser({\n        email: email\n      }, `        \n                    __typename\n                    id\n                    franchise{\n                        __typename\n                        id\n                        stadium{\n                          __typename\n                          id\n                          grade\n                          maxGrade\n                        }\n                      league{\n                        __typename\n                        id\n                        playerSet{\n                          __typename\n                            id\n                            name\n                            suit\n                            age\n                            pv\n                            epv\n                            sEpv\n                            contract\n                            tOption\n                            pOption\n                            renew\n                            salary\n                            grade\n                            trainer\n                            year\n                            franchise{\n                                __typename\n                                id\n                                franchise\n                            }\n                        }\n                        franchiseSet{\n                          __typename\n                          id\n                          playerSet{\n                            __typename\n                            id\n                            name\n                            suit\n                            age\n                            pv\n                            epv\n                            sEpv\n                            contract\n                            tOption\n                            pOption\n                            renew\n                            salary\n                            grade\n                            trainer\n                            year\n                            franchise {\n                                __typename\n                                id\n                                franchise\n                            }\n                          }\n                        }\n                      }\n                    }`, {});\n      setTimeout(() => {\n        setLoading(false);\n      }, 2000);\n    }).catch(err => {\n      console.log(err);\n      setTimeout(() => {\n        setLoading(false);\n      }, 2000);\n    });\n  };\n  if (loading) return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SmallLoading, {\n    animation: \"ld ld-bounce\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }));else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, store.User.league.freeAgentClassSigned ? null : /*#__PURE__*/React.createElement(Button, {\n      style: simButtonStyles,\n      onClick: () => signFreeAgents(),\n      block: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }\n    }, \"Sim Free Agents\"));\n  }\n});\nexport default FreeAgencyButton;","map":{"version":3,"names":["React","useContext","useState","Button","observer","axios","StoreContext","SmallLoading","simButtonStyles","FreeAgencyButton","store","loading","setLoading","email","localStorage","getItem","signFreeAgents","link","window","location","port","hostname","host","data","FormData","append","User","franchise","id","seasonSet","length","post","protocol","then","res","console","log","queryUser","setTimeout","catch","err","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","animation","league","freeAgentClassSigned","style","onClick","block"],"sources":["/Users/bwhitmore6/Desktop/Projects/BigLeague/src/Pages/Molecules/SimulationButtons/FreeAgentButton.tsx"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport 'antd/dist/antd.css';\nimport {Button} from 'antd';\nimport {observer} from \"mobx-react\";\nimport axios from \"axios\";\nimport {StoreContext} from \"../../../models\";\nimport SmallLoading from \"../../Atoms/Loading/SmallLoading\";\nimport {simButtonStyles} from \"./SimButtonStyles\";\n\nexport const FreeAgencyButton: React.FunctionComponent = observer(() => {\n\n        const store = useContext(StoreContext)\n\n        const [loading, setLoading] = useState<boolean>(false)\n        const email: any = localStorage.getItem('email') ? localStorage.getItem('email') : '';\n\n        const signFreeAgents = () => {\n            let link;\n            if (window.location.port === '3000') {\n                link = window.location.hostname + ':8000'\n            } else {\n                link = window.location.host\n            }\n            const data = new FormData();\n            data.append(\"franchise_id\", store.User.franchise.id)\n            data.append(\"season\", store.User.franchise.seasonSet.length)\n            setLoading(true)\n            axios.post(window.location.protocol + \"//\" + link + '/free_agency', data)\n                .then(res => {\n                    console.log(res.data)\n                    store.queryUser(\n                    {email: email},\n                    `        \n                    __typename\n                    id\n                    franchise{\n                        __typename\n                        id\n                        stadium{\n                          __typename\n                          id\n                          grade\n                          maxGrade\n                        }\n                      league{\n                        __typename\n                        id\n                        playerSet{\n                          __typename\n                            id\n                            name\n                            suit\n                            age\n                            pv\n                            epv\n                            sEpv\n                            contract\n                            tOption\n                            pOption\n                            renew\n                            salary\n                            grade\n                            trainer\n                            year\n                            franchise{\n                                __typename\n                                id\n                                franchise\n                            }\n                        }\n                        franchiseSet{\n                          __typename\n                          id\n                          playerSet{\n                            __typename\n                            id\n                            name\n                            suit\n                            age\n                            pv\n                            epv\n                            sEpv\n                            contract\n                            tOption\n                            pOption\n                            renew\n                            salary\n                            grade\n                            trainer\n                            year\n                            franchise {\n                                __typename\n                                id\n                                franchise\n                            }\n                          }\n                        }\n                      }\n                    }`,\n                    {}\n                    )\n                    setTimeout(() => {setLoading(false)}, 2000);\n                })\n                .catch(err => {\n                    console.log(err)\n                    setTimeout(() => {setLoading(false)}, 2000);\n                })\n        };\n\n\n        if (loading) return (\n            <div>\n                <SmallLoading animation=\"ld ld-bounce\"/>\n            </div>\n        )\n        else {\n            return (\n                <div>\n                    {(store.User.league.freeAgentClassSigned) ?\n                        null :\n                    <Button style={simButtonStyles} onClick={() => signFreeAgents()} block>\n                        Sim Free Agents\n                    </Button>\n                    }\n                </div>\n            );\n        }\n    }\n)\n\nexport default FreeAgencyButton;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,UAAU,EAAEC,QAAQ,QAAO,OAAO;AACjD,OAAO,oBAAoB;AAC3B,SAAQC,MAAM,QAAO,MAAM;AAC3B,SAAQC,QAAQ,QAAO,YAAY;AACnC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAAQC,YAAY,QAAO,iBAAiB;AAC5C,OAAOC,YAAY,MAAM,kCAAkC;AAC3D,SAAQC,eAAe,QAAO,mBAAmB;AAEjD,OAAO,MAAMC,gBAAyC,GAAGL,QAAQ,CAAC,MAAM;EAEhE,MAAMM,KAAK,GAAGT,UAAU,CAACK,YAAY,CAAC;EAEtC,MAAM,CAACK,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAU,KAAK,CAAC;EACtD,MAAMW,KAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,GAAGD,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE;EAErF,MAAMC,cAAc,GAAGA,CAAA,KAAM;IACzB,IAAIC,IAAI;IACR,IAAIC,MAAM,CAACC,QAAQ,CAACC,IAAI,KAAK,MAAM,EAAE;MACjCH,IAAI,GAAGC,MAAM,CAACC,QAAQ,CAACE,QAAQ,GAAG,OAAO;IAC7C,CAAC,MAAM;MACHJ,IAAI,GAAGC,MAAM,CAACC,QAAQ,CAACG,IAAI;IAC/B;IACA,MAAMC,IAAI,GAAG,IAAIC,QAAQ,EAAE;IAC3BD,IAAI,CAACE,MAAM,CAAC,cAAc,EAAEf,KAAK,CAACgB,IAAI,CAACC,SAAS,CAACC,EAAE,CAAC;IACpDL,IAAI,CAACE,MAAM,CAAC,QAAQ,EAAEf,KAAK,CAACgB,IAAI,CAACC,SAAS,CAACE,SAAS,CAACC,MAAM,CAAC;IAC5DlB,UAAU,CAAC,IAAI,CAAC;IAChBP,KAAK,CAAC0B,IAAI,CAACb,MAAM,CAACC,QAAQ,CAACa,QAAQ,GAAG,IAAI,GAAGf,IAAI,GAAG,cAAc,EAAEM,IAAI,CAAC,CACpEU,IAAI,CAACC,GAAG,IAAI;MACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACX,IAAI,CAAC;MACrBb,KAAK,CAAC2B,SAAS,CACf;QAACxB,KAAK,EAAEA;MAAK,CAAC,EACb;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,EACF,CAAC,CAAC,CACD;MACDyB,UAAU,CAAC,MAAM;QAAC1B,UAAU,CAAC,KAAK,CAAC;MAAA,CAAC,EAAE,IAAI,CAAC;IAC/C,CAAC,CAAC,CACD2B,KAAK,CAACC,GAAG,IAAI;MACVL,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC;MAChBF,UAAU,CAAC,MAAM;QAAC1B,UAAU,CAAC,KAAK,CAAC;MAAA,CAAC,EAAE,IAAI,CAAC;IAC/C,CAAC,CAAC;EACV,CAAC;EAGD,IAAID,OAAO,EAAE,oBACTX,KAAA,CAAAyC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACI/C,KAAA,CAAAyC,aAAA,CAAClC,YAAY;IAACyC,SAAS,EAAC,cAAc;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAE,CACtC,CACT,KACI;IACD,oBACI/C,KAAA,CAAAyC,aAAA;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACMrC,KAAK,CAACgB,IAAI,CAACuB,MAAM,CAACC,oBAAoB,GACpC,IAAI,gBACRlD,KAAA,CAAAyC,aAAA,CAACtC,MAAM;MAACgD,KAAK,EAAE3C,eAAgB;MAAC4C,OAAO,EAAEA,CAAA,KAAMpC,cAAc,EAAG;MAACqC,KAAK;MAAAX,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,iBAEvE,CAAS,CAEP;EAEd;AACJ,CAAC,CACJ;AAED,eAAetC,gBAAgB"},"metadata":{},"sourceType":"module"}